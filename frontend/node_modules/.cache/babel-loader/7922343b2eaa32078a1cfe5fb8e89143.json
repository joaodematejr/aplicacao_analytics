{"ast":null,"code":"import _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/calendar/CalendarApp.js\";\nimport React, { Component } from 'react';\nimport { withStyles, Fab, Icon } from '@material-ui/core';\nimport { FuseAnimate } from '@fuse';\nimport BigCalendar from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from './store/actions';\nimport reducer from './store/reducers';\nimport EventDialog from './EventDialog';\nimport CalendarHeader from './CalendarHeader';\nimport * as ReactDOM from 'react-dom';\nvar localizer = BigCalendar.momentLocalizer(moment);\nvar DragAndDropCalendar = withDragAndDrop(BigCalendar);\nvar allViews = Object.keys(BigCalendar.Views).map(function (k) {\n  return BigCalendar.Views[k];\n});\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      '& .rbc-header': {\n        padding: '12px 6px',\n        fontWeight: 600,\n        fontSize: 14\n      },\n      '& .rbc-label': {\n        padding: '8px 6px'\n      },\n      '& .rbc-today': {\n        backgroundColor: 'transparent'\n      },\n      '& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today': {\n        borderBottom: '2px solid ' + theme.palette.secondary.main + '!important'\n      },\n      '& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view': _objectSpread(_defineProperty({\n        padding: 24\n      }, theme.breakpoints.down('sm'), {\n        padding: 16\n      }), theme.mixins.border(0)),\n      '& .rbc-agenda-view table': _objectSpread({}, theme.mixins.border(1), {\n        '& thead > tr > th': _objectSpread({}, theme.mixins.borderBottom(0)),\n        '& tbody > tr > td': {\n          padding: '12px 6px',\n          '& + td': _objectSpread({}, theme.mixins.borderLeft(1))\n        }\n      }),\n      '& .rbc-time-view': {\n        '& .rbc-time-header': _objectSpread({}, theme.mixins.border(1)),\n        '& .rbc-time-content': _objectSpread({\n          flex: '0 1 auto'\n        }, theme.mixins.border(1))\n      },\n      '& .rbc-month-view': {\n        '& > .rbc-row': _objectSpread({}, theme.mixins.border(1)),\n        '& .rbc-month-row': _objectSpread({}, theme.mixins.border(1), {\n          borderWidth: '0 1px 1px 1px!important',\n          minHeight: 128\n        }),\n        '& .rbc-header + .rbc-header': _objectSpread({}, theme.mixins.borderLeft(1)),\n        '& .rbc-header': _objectSpread({}, theme.mixins.borderBottom(0)),\n        '& .rbc-day-bg + .rbc-day-bg': _objectSpread({}, theme.mixins.borderLeft(1))\n      },\n      '& .rbc-day-slot .rbc-time-slot': _objectSpread({}, theme.mixins.borderTop(1), {\n        opacity: 0.5\n      }),\n      '& .rbc-time-header > .rbc-row > * + *': _objectSpread({}, theme.mixins.borderLeft(1)),\n      '& .rbc-time-content > * + * > *': _objectSpread({}, theme.mixins.borderLeft(1)),\n      '& .rbc-day-bg + .rbc-day-bg': _objectSpread({}, theme.mixins.borderLeft(1)),\n      '& .rbc-time-header > .rbc-row:first-child': _objectSpread({}, theme.mixins.borderBottom(1)),\n      '& .rbc-timeslot-group': _objectSpread({\n        minHeight: 64\n      }, theme.mixins.borderBottom(1)),\n      '& .rbc-date-cell': {\n        padding: 8,\n        fontSize: 16,\n        fontWeight: 400,\n        opacity: .5,\n        '& > a': {\n          color: 'inherit'\n        }\n      },\n      '& .rbc-event': {\n        borderRadius: 4,\n        padding: '4px 8px',\n        backgroundColor: theme.palette.primary.dark,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[0],\n        transitionProperty: 'box-shadow',\n        transitionDuration: theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n        position: 'relative',\n        '&:hover': {\n          boxShadow: theme.shadows[2]\n        }\n      },\n      '& .rbc-row-segment': {\n        padding: '0 4px 4px 4px'\n      },\n      '& .rbc-off-range-bg': {\n        backgroundColor: theme.palette.type === 'light' ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.16)'\n      },\n      '& .rbc-show-more': {\n        color: theme.palette.secondary.main,\n        background: 'transparent'\n      },\n      '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event': {\n        position: 'static'\n      },\n      '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child': {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        height: 'auto'\n      },\n      '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child': {\n        right: 0,\n        top: 0,\n        bottom: 0,\n        height: 'auto'\n      }\n    },\n    addButton: {\n      position: 'absolute',\n      right: 12,\n      top: 172,\n      zIndex: 99\n    }\n  };\n};\n\nvar CalendarApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CalendarApp, _Component);\n\n  function CalendarApp(props) {\n    var _this;\n\n    _classCallCheck(this, CalendarApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CalendarApp).call(this, props));\n\n    _this.moveEvent = function (_ref) {\n      var event = _ref.event,\n          start = _ref.start,\n          end = _ref.end;\n\n      _this.props.updateEvent(_objectSpread({}, event, {\n        start: start,\n        end: end\n      }));\n    };\n\n    _this.resizeEvent = function (_ref2) {\n      var event = _ref2.event,\n          start = _ref2.start,\n          end = _ref2.end;\n      delete event.type;\n\n      _this.props.updateEvent(_objectSpread({}, event, {\n        start: start,\n        end: end\n      }));\n    };\n\n    _this.headerEl = React.createRef();\n    return _this;\n  }\n\n  _createClass(CalendarApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getEvents();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          events = _this$props.events,\n          openNewEventDialog = _this$props.openNewEventDialog,\n          openEditEventDialog = _this$props.openEditEventDialog;\n      return React.createElement(\"div\", {\n        className: classNames(classes.root, \"flex flex-col flex-auto relative\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        ref: this.headerEl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), React.createElement(DragAndDropCalendar, {\n        className: \"flex flex-1 container\",\n        selectable: true,\n        localizer: localizer,\n        events: events,\n        onEventDrop: this.moveEvent,\n        resizable: true,\n        onEventResize: this.resizeEvent,\n        defaultView: BigCalendar.Views.MONTH,\n        defaultDate: new Date(2018, 3, 1),\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        views: allViews,\n        step: 60,\n        showMultiDayTimes: true,\n        components: {\n          toolbar: function toolbar(props) {\n            return _this2.headerEl.current ? ReactDOM.createPortal(React.createElement(CalendarHeader, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 220\n              },\n              __self: this\n            })), _this2.headerEl.current) : null;\n          }\n        } // onNavigate={this.handleNavigate}\n        ,\n        onSelectEvent: function onSelectEvent(event) {\n          openEditEventDialog(event);\n        },\n        onSelectSlot: function onSelectSlot(slotInfo) {\n          return openNewEventDialog({\n            start: slotInfo.start.toLocaleString(),\n            end: slotInfo.end.toLocaleString()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(FuseAnimate, {\n        animation: \"transition.expandIn\",\n        delay: 500,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Fab, {\n        color: \"secondary\",\n        \"aria-label\": \"add\",\n        className: classes.addButton,\n        onClick: function onClick() {\n          return openNewEventDialog({\n            start: new Date(),\n            end: new Date()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"add\"))), React.createElement(EventDialog, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CalendarApp;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getEvents: Actions.getEvents,\n    openNewEventDialog: Actions.openNewEventDialog,\n    openEditEventDialog: Actions.openEditEventDialog,\n    updateEvent: Actions.updateEvent\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref3) {\n  var calendarApp = _ref3.calendarApp;\n  return {\n    events: calendarApp.events.entities\n  };\n}\n\nexport default withReducer('calendarApp', reducer)(withStyles(styles, {\n  withTheme: true\n})(connect(mapStateToProps, mapDispatchToProps)(CalendarApp)));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/calendar/CalendarApp.js"],"names":["React","Component","withStyles","Fab","Icon","FuseAnimate","BigCalendar","withDragAndDrop","moment","classNames","bindActionCreators","connect","withReducer","Actions","reducer","EventDialog","CalendarHeader","ReactDOM","localizer","momentLocalizer","DragAndDropCalendar","allViews","Object","keys","Views","map","k","styles","theme","root","padding","fontWeight","fontSize","backgroundColor","borderBottom","palette","secondary","main","breakpoints","down","mixins","border","borderLeft","flex","borderWidth","minHeight","borderTop","opacity","color","borderRadius","primary","dark","contrastText","boxShadow","shadows","transitionProperty","transitionDuration","transitions","duration","short","transitionTimingFunction","easing","easeInOut","position","type","background","left","top","bottom","height","right","addButton","zIndex","CalendarApp","props","moveEvent","event","start","end","updateEvent","resizeEvent","headerEl","createRef","getEvents","classes","events","openNewEventDialog","openEditEventDialog","MONTH","Date","toolbar","current","createPortal","slotInfo","toLocaleString","mapDispatchToProps","dispatch","mapStateToProps","calendarApp","entities","withTheme"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {withStyles, Fab, Icon} from '@material-ui/core';\nimport {FuseAnimate} from '@fuse';\nimport BigCalendar from 'react-big-calendar'\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop'\nimport moment from 'moment'\nimport classNames from 'classnames';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from './store/actions';\nimport reducer from './store/reducers';\nimport EventDialog from './EventDialog';\nimport CalendarHeader from './CalendarHeader';\nimport * as ReactDOM from 'react-dom';\n\nconst localizer = BigCalendar.momentLocalizer(moment);\n\nconst DragAndDropCalendar = withDragAndDrop(BigCalendar);\n\nlet allViews = Object.keys(BigCalendar.Views).map(k => BigCalendar.Views[k]);\n\nconst styles = theme => ({\n    root     : {\n        '& .rbc-header'                                                                                                : {\n            padding   : '12px 6px',\n            fontWeight: 600,\n            fontSize  : 14\n        },\n        '& .rbc-label'                                                                                                 : {\n            padding: '8px 6px'\n        },\n        '& .rbc-today'                                                                                                 : {\n            backgroundColor: 'transparent'\n        },\n        '& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today'                                             : {\n            borderBottom: '2px solid ' + theme.palette.secondary.main + '!important'\n        },\n        '& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view'                                                      : {\n            padding                       : 24,\n            [theme.breakpoints.down('sm')]: {\n                padding: 16\n            },\n            ...theme.mixins.border(0)\n        },\n        '& .rbc-agenda-view table'                                                                                     : {\n            ...theme.mixins.border(1),\n            '& thead > tr > th': {\n                ...theme.mixins.borderBottom(0)\n            },\n            '& tbody > tr > td': {\n                padding : '12px 6px',\n                '& + td': {\n                    ...theme.mixins.borderLeft(1)\n                }\n            }\n        },\n        '& .rbc-time-view'                                                                                             : {\n            '& .rbc-time-header' : {\n                ...theme.mixins.border(1)\n            },\n            '& .rbc-time-content': {\n                flex: '0 1 auto',\n                ...theme.mixins.border(1)\n            }\n        },\n        '& .rbc-month-view'                                                                                            : {\n            '& > .rbc-row'               : {\n                ...theme.mixins.border(1)\n            },\n            '& .rbc-month-row'           : {\n                ...theme.mixins.border(1),\n                borderWidth: '0 1px 1px 1px!important',\n                minHeight  : 128\n            },\n            '& .rbc-header + .rbc-header': {\n                ...theme.mixins.borderLeft(1)\n            },\n            '& .rbc-header'              : {\n                ...theme.mixins.borderBottom(0)\n            },\n            '& .rbc-day-bg + .rbc-day-bg': {\n                ...theme.mixins.borderLeft(1)\n            }\n        },\n        '& .rbc-day-slot .rbc-time-slot'                                                                               : {\n            ...theme.mixins.borderTop(1),\n            opacity: 0.5\n        },\n        '& .rbc-time-header > .rbc-row > * + *'                                                                        : {\n            ...theme.mixins.borderLeft(1)\n        },\n        '& .rbc-time-content > * + * > *'                                                                              : {\n            ...theme.mixins.borderLeft(1)\n        },\n        '& .rbc-day-bg + .rbc-day-bg'                                                                                  : {\n            ...theme.mixins.borderLeft(1)\n        },\n        '& .rbc-time-header > .rbc-row:first-child'                                                                    : {\n            ...theme.mixins.borderBottom(1)\n        },\n        '& .rbc-timeslot-group'                                                                                        : {\n            minHeight: 64,\n            ...theme.mixins.borderBottom(1)\n        },\n        '& .rbc-date-cell'                                                                                             : {\n            padding   : 8,\n            fontSize  : 16,\n            fontWeight: 400,\n            opacity   : .5,\n            '& > a'   : {\n                color: 'inherit'\n            }\n        },\n        '& .rbc-event'                                                                                                 : {\n            borderRadius            : 4,\n            padding                 : '4px 8px',\n            backgroundColor         : theme.palette.primary.dark,\n            color                   : theme.palette.primary.contrastText,\n            boxShadow               : theme.shadows[0],\n            transitionProperty      : 'box-shadow',\n            transitionDuration      : theme.transitions.duration.short,\n            transitionTimingFunction: theme.transitions.easing.easeInOut,\n            position                : 'relative',\n            '&:hover'               : {\n                boxShadow: theme.shadows[2]\n            }\n        },\n        '& .rbc-row-segment'                                                                                           : {\n            padding: '0 4px 4px 4px'\n        },\n        '& .rbc-off-range-bg'                                                                                          : {\n            backgroundColor: theme.palette.type === 'light' ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.16)'\n        },\n        '& .rbc-show-more'                                                                                             : {\n            color     : theme.palette.secondary.main,\n            background: 'transparent'\n        },\n        '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event'                                                      : {\n            position: 'static'\n        },\n        '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child': {\n            left  : 0,\n            top   : 0,\n            bottom: 0,\n            height: 'auto'\n        },\n        '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child' : {\n            right : 0,\n            top   : 0,\n            bottom: 0,\n            height: 'auto'\n        }\n    },\n    addButton: {\n        position: 'absolute',\n        right   : 12,\n        top     : 172,\n        zIndex  : 99\n    }\n});\n\nclass CalendarApp extends Component {\n\n    constructor(props)\n    {\n        super(props);\n        this.headerEl = React.createRef();\n    }\n\n    componentDidMount()\n    {\n        this.props.getEvents();\n    }\n\n    moveEvent = ({event, start, end}) => {\n        this.props.updateEvent({\n            ...event,\n            start,\n            end\n        });\n    };\n\n    resizeEvent = ({event, start, end}) => {\n        delete event.type;\n        this.props.updateEvent({\n            ...event,\n            start,\n            end\n        });\n    };\n\n    render()\n    {\n        const {classes, events, openNewEventDialog, openEditEventDialog} = this.props;\n        return (\n            <div className={classNames(classes.root, \"flex flex-col flex-auto relative\")}>\n                <div ref={this.headerEl}/>\n                <DragAndDropCalendar\n                    className=\"flex flex-1 container\"\n                    selectable\n                    localizer={localizer}\n                    events={events}\n                    onEventDrop={this.moveEvent}\n                    resizable\n                    onEventResize={this.resizeEvent}\n                    defaultView={BigCalendar.Views.MONTH}\n                    defaultDate={new Date(2018, 3, 1)}\n                    startAccessor=\"start\"\n                    endAccessor=\"end\"\n                    views={allViews}\n                    step={60}\n                    showMultiDayTimes\n                    components={{\n                        toolbar: (props) => {\n                            return this.headerEl.current ?\n                                ReactDOM.createPortal(\n                                    <CalendarHeader {...props}/>,\n                                    this.headerEl.current\n                                ) : null;\n                        }\n                    }}\n                    // onNavigate={this.handleNavigate}\n                    onSelectEvent={event => {\n                        openEditEventDialog(event);\n                    }}\n                    onSelectSlot={slotInfo => openNewEventDialog({\n                        start: slotInfo.start.toLocaleString(),\n                        end  : slotInfo.end.toLocaleString()\n                    })}\n                />\n                <FuseAnimate animation=\"transition.expandIn\" delay={500}>\n                    <Fab\n                        color=\"secondary\"\n                        aria-label=\"add\"\n                        className={classes.addButton}\n                        onClick={() => openNewEventDialog({\n                            start: new Date(),\n                            end  : new Date()\n                        })}\n                    >\n                        <Icon>add</Icon>\n                    </Fab>\n                </FuseAnimate>\n                <EventDialog/>\n            </div>\n        )\n    }\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        getEvents          : Actions.getEvents,\n        openNewEventDialog : Actions.openNewEventDialog,\n        openEditEventDialog: Actions.openEditEventDialog,\n        updateEvent        : Actions.updateEvent\n    }, dispatch);\n}\n\nfunction mapStateToProps({calendarApp})\n{\n    return {\n        events: calendarApp.events.entities\n    }\n}\n\nexport default withReducer('calendarApp', reducer)(withStyles(styles, {withTheme: true})(connect(mapStateToProps, mapDispatchToProps)(CalendarApp)));\n"]},"metadata":{},"sourceType":"module"}