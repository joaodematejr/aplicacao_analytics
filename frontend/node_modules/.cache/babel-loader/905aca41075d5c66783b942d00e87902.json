{"ast":null,"code":"import _defineProperty from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/@fuse/components/FuseSearch/FuseSearch.js\";\nimport React, { Component } from 'react';\nimport { withStyles, Popper, ClickAwayListener, MenuItem, Icon, IconButton, ListItemIcon, ListItemText, Paper, TextField, Tooltip, Typography } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { FuseUtils } from '@fuse';\nimport classNames from 'classnames';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport { withRouter } from 'react-router-dom';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\nimport _ from '@lodash';\nvar propTypes = {};\nvar defaultProps = {\n  trigger: React.createElement(IconButton, {\n    className: \"w-64 h-64\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, \"search\")),\n  variant: 'full' // basic, full\n\n};\n\nfunction renderInputComponent(inputProps) {\n  var variant = inputProps.variant,\n      classes = inputProps.classes,\n      _inputProps$inputRef = inputProps.inputRef,\n      _inputRef = _inputProps$inputRef === void 0 ? function () {} : _inputProps$inputRef,\n      ref = inputProps.ref,\n      other = _objectWithoutProperties(inputProps, [\"variant\", \"classes\", \"inputRef\", \"ref\"]);\n\n  return React.createElement(\"div\", {\n    className: \"w-full relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, variant === \"basic\" ? // Outlined\n  React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      inputRef: function inputRef(node) {\n        ref(node);\n\n        _inputRef(node);\n      },\n      classes: {\n        input: classNames(classes.input, \"py-0 px-16 h-48 pr-48\"),\n        notchedOutline: \"rounded-8\"\n      }\n    },\n    variant: \"outlined\"\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })), React.createElement(Icon, {\n    className: \"absolute pin-t pin-r h-48 w-48 p-12 pointer-events-none\",\n    color: \"action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"search\")) : // Standard\n  React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      disableUnderline: true,\n      inputRef: function inputRef(node) {\n        ref(node);\n\n        _inputRef(node);\n      },\n      classes: {\n        input: classNames(classes.input, \"py-0 px-16 h-64\")\n      }\n    },\n    variant: \"standard\"\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })));\n}\n\nfunction renderSuggestion(suggestion, _ref) {\n  var query = _ref.query,\n      isHighlighted = _ref.isHighlighted;\n  var matches = match(suggestion.title, query);\n  var parts = parse(suggestion.title, matches);\n  return React.createElement(MenuItem, {\n    selected: isHighlighted,\n    component: \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, suggestion.icon ? React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, suggestion.icon) : React.createElement(\"span\", {\n    className: \"text-20 w-24 font-bold uppercase text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, suggestion.title[0])), React.createElement(ListItemText, {\n    className: \"pl-0\",\n    primary: parts.map(function (part, index) {\n      return part.highlight ? React.createElement(\"span\", {\n        key: String(index),\n        style: {\n          fontWeight: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, part.text) : React.createElement(\"strong\", {\n        key: String(index),\n        style: {\n          fontWeight: 300\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, part.text);\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }));\n}\n\nfunction getSuggestions(value, data) {\n  var inputValue = deburr(value.trim()).toLowerCase();\n  var inputLength = inputValue.length;\n  var count = 0;\n  return inputLength === 0 ? [] : data.filter(function (suggestion) {\n    var keep = count < 10 && match(suggestion.title, inputValue).length > 0;\n\n    if (keep) {\n      count += 1;\n    }\n\n    return keep;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.title;\n}\n\nvar styles = function styles(theme) {\n  return {\n    root: {},\n    container: {\n      position: 'relative'\n    },\n    suggestionsContainerOpen: {\n      position: 'absolute',\n      zIndex: 1,\n      marginTop: theme.spacing.unit,\n      left: 0,\n      right: 0\n    },\n    suggestion: {\n      display: 'block'\n    },\n    suggestionsList: {\n      margin: 0,\n      padding: 0,\n      listStyleType: 'none'\n    },\n    input: {\n      transition: theme.transitions.create(['background-color'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.short\n      }),\n      '&:focus': {\n        backgroundColor: theme.palette.background.paper\n      }\n    }\n  };\n};\n\nvar FuseSearch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FuseSearch, _Component);\n\n  function FuseSearch() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FuseSearch);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FuseSearch)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      search: false,\n      flatNavigation: null,\n      popper: '',\n      suggestions: [],\n      noSuggestions: false\n    };\n\n    _this.showSearch = function () {\n      _this.setState({\n        search: true\n      });\n\n      document.addEventListener(\"keydown\", _this.escFunction, false);\n    };\n\n    _this.hideSearch = function () {\n      _this.setState({\n        search: false,\n        popper: ''\n      });\n\n      document.removeEventListener(\"keydown\", _this.escFunction, false);\n    };\n\n    _this.escFunction = function (event) {\n      if (event.keyCode === 27) {\n        _this.hideSearch();\n      }\n    };\n\n    _this.itemAuthAllowed = function (item) {\n      return !(item.auth && (!item.auth.includes(_this.props.userRole) || _this.props.userRole !== 'guest' && item.auth.length === 1 && item.auth.includes('guest')));\n    };\n\n    _this.handleSuggestionsFetchRequested = function (_ref2) {\n      var value = _ref2.value;\n      var suggestions = getSuggestions(value, _this.state.flatNavigation);\n      var isInputBlank = value.trim() === '';\n      var noSuggestions = !isInputBlank && suggestions.length === 0;\n\n      _this.setState({\n        suggestions: suggestions,\n        noSuggestions: noSuggestions\n      });\n    };\n\n    _this.handleSuggestionSelected = function (event, _ref3) {\n      var suggestion = _ref3.suggestion;\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (!suggestion.url) {\n        return;\n      }\n\n      _this.props.history.push(suggestion.url);\n\n      _this.hideSearch();\n    };\n\n    _this.handleSuggestionsClearRequested = function () {\n      _this.setState({\n        suggestions: [],\n        noSuggestions: false\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event, _ref4) {\n        var newValue = _ref4.newValue;\n\n        _this.setState(_defineProperty({}, name, newValue));\n      };\n    };\n\n    _this.handleClickAway = function (event) {\n      return (!_this.suggestionsNode || !_this.suggestionsNode.contains(event.target)) && _this.hideSearch();\n    };\n\n    _this.handleRef = function (domNode) {\n      _this.popperNode = domNode;\n    };\n\n    _this.handleSuggestionsRef = function (domNode) {\n      _this.suggestionsNode = domNode;\n    };\n\n    return _this;\n  }\n\n  _createClass(FuseSearch, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.userRole, prevProps.userRole)) {\n        this.flattenNavigation(this.props.navigation);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.flattenNavigation(this.props.navigation);\n    }\n  }, {\n    key: \"flattenNavigation\",\n    value: function flattenNavigation(navigation) {\n      var _this2 = this;\n\n      var flatNavigation = FuseUtils.getFlatNavigation(navigation).filter(function (item) {\n        return _this2.itemAuthAllowed(item);\n      });\n      this.setState({\n        flatNavigation: flatNavigation\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          variant = _this$props.variant,\n          className = _this$props.className;\n      var autosuggestProps = {\n        renderInputComponent: renderInputComponent,\n        highlightFirstSuggestion: true,\n        suggestions: this.state.suggestions,\n        onSuggestionsFetchRequested: this.handleSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\n        onSuggestionSelected: this.handleSuggestionSelected,\n        getSuggestionValue: getSuggestionValue,\n        renderSuggestion: renderSuggestion\n      };\n\n      switch (variant) {\n        case 'basic':\n          {\n            return React.createElement(\"div\", {\n              className: classNames(\"flex items-center w-full\", className),\n              ref: this.handleRef,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 291\n              },\n              __self: this\n            }, React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n              inputProps: {\n                variant: variant,\n                classes: classes,\n                placeholder: 'Search',\n                value: this.state.popper,\n                onChange: this.handleChange('popper'),\n                onFocus: this.showSearch,\n                InputLabelProps: {\n                  shrink: true\n                },\n                autoFocus: false\n              },\n              theme: {\n                container: \"flex flex-1 w-full\",\n                suggestionsList: classes.suggestionsList,\n                suggestion: classes.suggestion\n              },\n              renderSuggestionsContainer: function renderSuggestionsContainer(options) {\n                return React.createElement(Popper, {\n                  anchorEl: _this3.popperNode,\n                  open: Boolean(options.children) || _this3.state.noSuggestions,\n                  popperOptions: {\n                    positionFixed: true\n                  },\n                  className: \"z-9999\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 312\n                  },\n                  __self: this\n                }, React.createElement(\"div\", {\n                  ref: _this3.handleSuggestionsRef,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 318\n                  },\n                  __self: this\n                }, React.createElement(Paper, Object.assign({\n                  elevation: 1,\n                  square: true\n                }, options.containerProps, {\n                  style: {\n                    width: _this3.popperNode ? _this3.popperNode.clientWidth : null\n                  },\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 319\n                  },\n                  __self: this\n                }), options.children, _this3.state.noSuggestions && React.createElement(Typography, {\n                  className: \"px-16 py-12\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 327\n                  },\n                  __self: this\n                }, \"No results..\"))));\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 292\n              },\n              __self: this\n            })));\n          }\n\n        case 'full':\n          {\n            return React.createElement(\"div\", {\n              className: classNames(classes.root, \"flex\", className),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 342\n              },\n              __self: this\n            }, React.createElement(Tooltip, {\n              title: \"Click to search\",\n              placement: \"bottom\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 344\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              onClick: this.showSearch,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 345\n              },\n              __self: this\n            }, this.props.trigger)), this.state.search && React.createElement(ClickAwayListener, {\n              onClickAway: this.handleClickAway,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 351\n              },\n              __self: this\n            }, React.createElement(Paper, {\n              ref: function ref(node) {\n                return _this3.paper = node;\n              },\n              className: \"absolute pin-l pin-r h-full z-9999\",\n              square: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 352\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"flex items-center w-full\",\n              ref: this.handleRef,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 357\n              },\n              __self: this\n            }, React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n              inputProps: {\n                classes: classes,\n                placeholder: 'Search',\n                value: this.state.popper,\n                onChange: this.handleChange('popper'),\n                InputLabelProps: {\n                  shrink: true\n                },\n                autoFocus: true\n              },\n              theme: {\n                container: \"flex flex-1 w-full\",\n                suggestionsList: classes.suggestionsList,\n                suggestion: classes.suggestion\n              },\n              renderSuggestionsContainer: function renderSuggestionsContainer(options) {\n                return React.createElement(Popper, {\n                  anchorEl: _this3.popperNode,\n                  open: Boolean(options.children) || _this3.state.noSuggestions,\n                  popperOptions: {\n                    positionFixed: true\n                  },\n                  className: \"z-9999\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 376\n                  },\n                  __self: this\n                }, React.createElement(\"div\", {\n                  ref: _this3.handleSuggestionsRef,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 382\n                  },\n                  __self: this\n                }, React.createElement(Paper, Object.assign({\n                  elevation: 1,\n                  square: true\n                }, options.containerProps, {\n                  style: {\n                    width: _this3.popperNode ? _this3.popperNode.clientWidth : null\n                  },\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 383\n                  },\n                  __self: this\n                }), options.children, _this3.state.noSuggestions && React.createElement(Typography, {\n                  className: \"px-16 py-12\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 391\n                  },\n                  __self: this\n                }, \"No results..\"))));\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 358\n              },\n              __self: this\n            })), React.createElement(IconButton, {\n              onClick: this.hideSearch,\n              className: \"mx-8\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 400\n              },\n              __self: this\n            }, React.createElement(Icon, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 401\n              },\n              __self: this\n            }, \"close\"))))));\n          }\n\n        default:\n          {\n            return null;\n          }\n      }\n    }\n  }]);\n\n  return FuseSearch;\n}(Component);\n\nfunction mapStateToProps(_ref5) {\n  var fuse = _ref5.fuse,\n      auth = _ref5.auth;\n  return {\n    navigation: fuse.navigation,\n    userRole: auth.user.role\n  };\n}\n\nFuseSearch.propTypes = propTypes;\nFuseSearch.defaultProps = defaultProps;\nexport default withStyles(styles)(withRouter(connect(mapStateToProps)(FuseSearch)));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/@fuse/components/FuseSearch/FuseSearch.js"],"names":["React","Component","withStyles","Popper","ClickAwayListener","MenuItem","Icon","IconButton","ListItemIcon","ListItemText","Paper","TextField","Tooltip","Typography","connect","FuseUtils","classNames","match","parse","withRouter","deburr","Autosuggest","_","propTypes","defaultProps","trigger","variant","renderInputComponent","inputProps","classes","inputRef","ref","other","node","input","notchedOutline","disableUnderline","renderSuggestion","suggestion","query","isHighlighted","matches","title","parts","icon","map","part","index","highlight","String","fontWeight","text","getSuggestions","value","data","inputValue","trim","toLowerCase","inputLength","length","count","filter","keep","getSuggestionValue","styles","theme","root","container","position","suggestionsContainerOpen","zIndex","marginTop","spacing","unit","left","right","display","suggestionsList","margin","padding","listStyleType","transition","transitions","create","easing","easeInOut","duration","short","backgroundColor","palette","background","paper","FuseSearch","state","search","flatNavigation","popper","suggestions","noSuggestions","showSearch","setState","document","addEventListener","escFunction","hideSearch","removeEventListener","event","keyCode","itemAuthAllowed","item","auth","includes","props","userRole","handleSuggestionsFetchRequested","isInputBlank","handleSuggestionSelected","preventDefault","stopPropagation","url","history","push","handleSuggestionsClearRequested","handleChange","name","newValue","handleClickAway","suggestionsNode","contains","target","handleRef","domNode","popperNode","handleSuggestionsRef","prevProps","prevState","isEqual","flattenNavigation","navigation","getFlatNavigation","className","autosuggestProps","highlightFirstSuggestion","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","placeholder","onChange","onFocus","InputLabelProps","shrink","autoFocus","options","Boolean","children","positionFixed","containerProps","width","clientWidth","mapStateToProps","fuse","user","role"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {withStyles, Popper, ClickAwayListener, MenuItem, Icon, IconButton, ListItemIcon, ListItemText, Paper, TextField, Tooltip, Typography} from '@material-ui/core';\nimport {connect} from 'react-redux';\nimport {FuseUtils} from '@fuse';\nimport classNames from 'classnames';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport {withRouter} from 'react-router-dom';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\nimport _ from '@lodash';\n\nconst propTypes = {};\n\nconst defaultProps = {\n    trigger: (<IconButton className=\"w-64 h-64\"><Icon>search</Icon></IconButton>),\n    variant: 'full'// basic, full\n};\n\nfunction renderInputComponent(inputProps)\n{\n    const {\n        variant,\n        classes, inputRef = () => {\n        }, ref, ...other\n    } = inputProps;\n    return (\n        <div className=\"w-full relative\">\n            {variant === \"basic\" ? (\n                    // Outlined\n                    <React.Fragment>\n                        <TextField\n                            fullWidth\n                            InputProps={{\n                                inputRef: node => {\n                                    ref(node);\n                                    inputRef(node);\n                                },\n                                classes : {\n                                    input         : classNames(classes.input, \"py-0 px-16 h-48 pr-48\"),\n                                    notchedOutline: \"rounded-8\"\n                                }\n                            }}\n                            variant=\"outlined\"\n                            {...other}\n                        />\n                        <Icon className=\"absolute pin-t pin-r h-48 w-48 p-12 pointer-events-none\" color=\"action\">search</Icon>\n                    </React.Fragment>\n                )\n                :\n                (\n                    // Standard\n                    <TextField\n                        fullWidth\n                        InputProps={{\n                            disableUnderline: true,\n                            inputRef        : node => {\n                                ref(node);\n                                inputRef(node);\n                            },\n                            classes         : {\n                                input: classNames(classes.input, \"py-0 px-16 h-64\")\n                            }\n                        }}\n                        variant=\"standard\"\n                        {...other}\n                    />\n                )}\n        </div>\n    );\n}\n\nfunction renderSuggestion(suggestion, {query, isHighlighted})\n{\n    const matches = match(suggestion.title, query);\n    const parts = parse(suggestion.title, matches);\n\n    return (\n        <MenuItem selected={isHighlighted} component=\"div\">\n            <ListItemIcon>\n                {suggestion.icon ?\n                    (\n                        <Icon>{suggestion.icon}</Icon>\n                    ) :\n                    (\n                        <span className=\"text-20 w-24 font-bold uppercase text-center\">{suggestion.title[0]}</span>\n                    )\n                }\n            </ListItemIcon>\n            <ListItemText\n                className=\"pl-0\"\n                primary={\n                    parts.map((part, index) => {\n                        return part.highlight ? (\n                            <span key={String(index)} style={{fontWeight: 600}}>\n                                {part.text}\n                            </span>\n                        ) : (\n                            <strong key={String(index)} style={{fontWeight: 300}}>\n                                {part.text}\n                            </strong>\n                        );\n                    })\n                }\n            />\n        </MenuItem>\n    );\n}\n\nfunction getSuggestions(value, data)\n{\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    let count = 0;\n\n    return inputLength === 0\n        ? []\n        : data.filter(suggestion => {\n            const keep =\n                count < 10 &&\n                match(suggestion.title, inputValue).length > 0;\n\n            if ( keep )\n            {\n                count += 1;\n            }\n\n            return keep;\n        });\n}\n\nfunction getSuggestionValue(suggestion)\n{\n    return suggestion.title;\n}\n\nconst styles = theme => ({\n    root                    : {},\n    container               : {\n        position: 'relative'\n    },\n    suggestionsContainerOpen: {\n        position : 'absolute',\n        zIndex   : 1,\n        marginTop: theme.spacing.unit,\n        left     : 0,\n        right    : 0\n    },\n    suggestion              : {\n        display: 'block'\n    },\n    suggestionsList         : {\n        margin       : 0,\n        padding      : 0,\n        listStyleType: 'none'\n    },\n    input                   : {\n        transition: theme.transitions.create(['background-color'], {\n            easing  : theme.transitions.easing.easeInOut,\n            duration: theme.transitions.duration.short\n        }),\n        '&:focus' : {\n            backgroundColor: theme.palette.background.paper\n        }\n    }\n});\n\nclass FuseSearch extends Component {\n\n    state = {\n        search        : false,\n        flatNavigation: null,\n        popper        : '',\n        suggestions   : [],\n        noSuggestions : false\n    };\n\n    componentDidUpdate(prevProps, prevState)\n    {\n        if ( !_.isEqual(this.props.userRole, prevProps.userRole) )\n        {\n            this.flattenNavigation(this.props.navigation);\n        }\n    }\n\n    componentDidMount()\n    {\n        this.flattenNavigation(this.props.navigation);\n    }\n\n    showSearch = () => {\n        this.setState({search: true});\n        document.addEventListener(\"keydown\", this.escFunction, false);\n    };\n\n    hideSearch = () => {\n        this.setState({\n            search: false,\n            popper: ''\n        });\n        document.removeEventListener(\"keydown\", this.escFunction, false);\n    };\n\n    escFunction = (event) => {\n        if ( event.keyCode === 27 )\n        {\n            this.hideSearch();\n        }\n    };\n\n    itemAuthAllowed = (item) => {\n        return !(item.auth && (!item.auth.includes(this.props.userRole) || (this.props.userRole !== 'guest' && item.auth.length === 1 && item.auth.includes('guest'))))\n    };\n\n    flattenNavigation(navigation)\n    {\n        const flatNavigation = FuseUtils.getFlatNavigation(navigation).filter(item => this.itemAuthAllowed(item));\n\n        this.setState({flatNavigation})\n    }\n\n    handleSuggestionsFetchRequested = ({value}) => {\n        const suggestions = getSuggestions(value, this.state.flatNavigation);\n        const isInputBlank = value.trim() === '';\n        const noSuggestions = !isInputBlank && suggestions.length === 0;\n\n        this.setState({\n            suggestions,\n            noSuggestions\n        });\n    };\n\n    handleSuggestionSelected = (event, {suggestion}) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if ( !suggestion.url )\n        {\n            return;\n        }\n        this.props.history.push(suggestion.url);\n        this.hideSearch();\n    };\n\n    handleSuggestionsClearRequested = () => {\n        this.setState({\n            suggestions  : [],\n            noSuggestions: false\n        });\n    };\n\n    handleChange = name => (event, {newValue}) => {\n        this.setState({\n            [name]: newValue\n        });\n    };\n\n    handleClickAway = event => {\n        return (\n            !this.suggestionsNode ||\n            !this.suggestionsNode.contains(event.target)\n        ) && this.hideSearch();\n    };\n\n    handleRef = domNode => {\n        this.popperNode = domNode\n    };\n\n    handleSuggestionsRef = domNode => {\n        this.suggestionsNode = domNode\n    };\n\n    render()\n    {\n        const {classes, variant, className} = this.props;\n        const autosuggestProps = {\n            renderInputComponent,\n            highlightFirstSuggestion   : true,\n            suggestions                : this.state.suggestions,\n            onSuggestionsFetchRequested: this.handleSuggestionsFetchRequested,\n            onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\n            onSuggestionSelected       : this.handleSuggestionSelected,\n            getSuggestionValue,\n            renderSuggestion\n        };\n\n        switch ( variant )\n        {\n            case 'basic':\n            {\n                return (\n                    <div className={classNames(\"flex items-center w-full\", className)} ref={this.handleRef}>\n                        <Autosuggest\n                            {...autosuggestProps}\n                            inputProps={{\n                                variant,\n                                classes,\n                                placeholder    : 'Search',\n                                value          : this.state.popper,\n                                onChange       : this.handleChange('popper'),\n                                onFocus        : this.showSearch,\n                                InputLabelProps: {\n                                    shrink: true\n                                },\n                                autoFocus      : false\n                            }}\n                            theme={{\n                                container      : \"flex flex-1 w-full\",\n                                suggestionsList: classes.suggestionsList,\n                                suggestion     : classes.suggestion\n                            }}\n                            renderSuggestionsContainer={options => (\n                                <Popper\n                                    anchorEl={this.popperNode}\n                                    open={Boolean(options.children) || this.state.noSuggestions}\n                                    popperOptions={{positionFixed: true}}\n                                    className=\"z-9999\"\n                                >\n                                    <div ref={this.handleSuggestionsRef}>\n                                        <Paper\n                                            elevation={1}\n                                            square\n                                            {...options.containerProps}\n                                            style={{width: this.popperNode ? this.popperNode.clientWidth : null}}\n                                        >\n                                            {options.children}\n                                            {this.state.noSuggestions && (\n                                                <Typography className=\"px-16 py-12\">\n                                                    No results..\n                                                </Typography>\n                                            )}\n                                        </Paper>\n                                    </div>\n                                </Popper>\n                            )}\n                        />\n                    </div>\n                )\n            }\n            case 'full':\n            {\n                return (\n                    <div className={classNames(classes.root, \"flex\", className)}>\n\n                        <Tooltip title=\"Click to search\" placement=\"bottom\">\n                            <div onClick={this.showSearch}>\n                                {this.props.trigger}\n                            </div>\n                        </Tooltip>\n\n                        {this.state.search && (\n                            <ClickAwayListener onClickAway={this.handleClickAway}>\n                                <Paper\n                                    ref={(node) => this.paper = node}\n                                    className=\"absolute pin-l pin-r h-full z-9999\"\n                                    square={true}\n                                >\n                                    <div className=\"flex items-center w-full\" ref={this.handleRef}>\n                                        <Autosuggest\n                                            {...autosuggestProps}\n                                            inputProps={{\n                                                classes,\n                                                placeholder    : 'Search',\n                                                value          : this.state.popper,\n                                                onChange       : this.handleChange('popper'),\n                                                InputLabelProps: {\n                                                    shrink: true\n                                                },\n                                                autoFocus      : true\n                                            }}\n                                            theme={{\n                                                container      : \"flex flex-1 w-full\",\n                                                suggestionsList: classes.suggestionsList,\n                                                suggestion     : classes.suggestion\n                                            }}\n                                            renderSuggestionsContainer={options => (\n                                                <Popper\n                                                    anchorEl={this.popperNode}\n                                                    open={Boolean(options.children) || this.state.noSuggestions}\n                                                    popperOptions={{positionFixed: true}}\n                                                    className=\"z-9999\"\n                                                >\n                                                    <div ref={this.handleSuggestionsRef}>\n                                                        <Paper\n                                                            elevation={1}\n                                                            square\n                                                            {...options.containerProps}\n                                                            style={{width: this.popperNode ? this.popperNode.clientWidth : null}}\n                                                        >\n                                                            {options.children}\n                                                            {this.state.noSuggestions && (\n                                                                <Typography className=\"px-16 py-12\">\n                                                                    No results..\n                                                                </Typography>\n                                                            )}\n                                                        </Paper>\n                                                    </div>\n                                                </Popper>\n                                            )}\n                                        />\n                                        <IconButton onClick={this.hideSearch} className=\"mx-8\">\n                                            <Icon>close</Icon>\n                                        </IconButton>\n                                    </div>\n                                </Paper>\n                            </ClickAwayListener>\n                        )}\n                    </div>\n                )\n            }\n            default :\n            {\n                return null;\n            }\n        }\n    }\n}\n\nfunction mapStateToProps({fuse, auth})\n{\n    return {\n        navigation: fuse.navigation,\n        userRole  : auth.user.role\n    }\n}\n\nFuseSearch.propTypes = propTypes;\nFuseSearch.defaultProps = defaultProps;\n\nexport default withStyles(styles)(withRouter(connect(mapStateToProps)(FuseSearch)));\n"]},"metadata":{},"sourceType":"module"}