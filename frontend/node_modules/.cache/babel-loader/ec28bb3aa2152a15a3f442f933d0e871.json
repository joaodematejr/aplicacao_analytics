{"ast":null,"code":"import _objectSpread from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/register/tabs/FirebaseRegisterTab.js\";\nimport React, { Component } from 'react';\nimport Formsy from 'formsy-react';\nimport { TextFieldFormsy } from '@fuse';\nimport { Button, InputAdornment, Icon } from '@material-ui/core';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport connect from 'react-redux/es/connect/connect';\n\nvar FirebaseRegisterTab =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FirebaseRegisterTab, _Component);\n\n  function FirebaseRegisterTab() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FirebaseRegisterTab);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FirebaseRegisterTab)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      canSubmit: false\n    };\n    _this.form = React.createRef();\n\n    _this.disableButton = function () {\n      _this.setState({\n        canSubmit: false\n      });\n    };\n\n    _this.enableButton = function () {\n      _this.setState({\n        canSubmit: true\n      });\n    };\n\n    _this.onSubmit = function (model) {\n      _this.props.registerWithFirebase(model);\n    };\n\n    return _this;\n  }\n\n  _createClass(FirebaseRegisterTab, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.register.error && (this.props.register.error.username || this.props.register.error.password || this.props.register.error.email)) {\n        this.form.updateInputsWithError(_objectSpread({}, this.props.register.error));\n        this.props.register.error = null;\n        this.disableButton();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var canSubmit = this.state.canSubmit;\n      return React.createElement(\"div\", {\n        className: \"w-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Formsy, {\n        onValidSubmit: this.onSubmit,\n        onValid: this.enableButton,\n        onInvalid: this.disableButton,\n        ref: function ref(form) {\n          return _this2.form = form;\n        },\n        className: \"flex flex-col justify-center w-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"displayName\",\n        label: \"Display name\",\n        validations: {\n          minLength: 4\n        },\n        validationErrors: {\n          minLength: 'Min character length is 4'\n        },\n        InputProps: {\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            className: \"text-20\",\n            color: \"action\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, \"person\"))\n        },\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"text\",\n        name: \"email\",\n        label: \"Email\",\n        validations: \"isEmail\",\n        validationErrors: {\n          isEmail: 'Please enter a valid email'\n        },\n        InputProps: {\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            className: \"text-20\",\n            color: \"action\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, \"email\"))\n        },\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"password\",\n        name: \"password\",\n        label: \"Password\",\n        validations: \"equalsField:password-confirm\",\n        validationErrors: {\n          equalsField: 'Passwords do not match'\n        },\n        InputProps: {\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            className: \"text-20\",\n            color: \"action\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, \"vpn_key\"))\n        },\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(TextFieldFormsy, {\n        className: \"mb-16\",\n        type: \"password\",\n        name: \"password-confirm\",\n        label: \"Confirm Password\",\n        validations: \"equalsField:password\",\n        validationErrors: {\n          equalsField: 'Passwords do not match'\n        },\n        InputProps: {\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            className: \"text-20\",\n            color: \"action\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, \"vpn_key\"))\n        },\n        variant: \"outlined\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        className: \"w-full mx-auto mt-16 normal-case\",\n        \"aria-label\": \"REGISTER WITH FIREBASE\",\n        disabled: !canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Register with Firebase\")));\n    }\n  }]);\n\n  return FirebaseRegisterTab;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    registerWithFirebase: authActions.registerWithFirebase\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var auth = _ref.auth;\n  return {\n    register: auth.register,\n    user: auth.user\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(FirebaseRegisterTab));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/register/tabs/FirebaseRegisterTab.js"],"names":["React","Component","Formsy","TextFieldFormsy","Button","InputAdornment","Icon","bindActionCreators","withRouter","connect","FirebaseRegisterTab","state","canSubmit","form","createRef","disableButton","setState","enableButton","onSubmit","model","props","registerWithFirebase","prevProps","prevState","register","error","username","password","email","updateInputsWithError","minLength","endAdornment","isEmail","equalsField","mapDispatchToProps","dispatch","authActions","mapStateToProps","auth","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Formsy from 'formsy-react';\nimport { TextFieldFormsy } from '@fuse';\nimport { Button, InputAdornment, Icon } from '@material-ui/core';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport connect from 'react-redux/es/connect/connect';\n\nclass FirebaseRegisterTab extends Component {\n\n    state = {\n        canSubmit: false\n    };\n\n    form = React.createRef();\n\n    disableButton = () => {\n        this.setState({ canSubmit: false });\n    };\n\n    enableButton = () => {\n        this.setState({ canSubmit: true });\n    };\n\n    onSubmit = (model) => {\n        this.props.registerWithFirebase(model);\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.register.error && (this.props.register.error.username || this.props.register.error.password || this.props.register.error.email)) {\n            this.form.updateInputsWithError({\n                ...this.props.register.error\n            });\n\n            this.props.register.error = null;\n            this.disableButton();\n        }\n\n        return null;\n    }\n\n    render() {\n        const { canSubmit } = this.state;\n\n        return (\n            <div className=\"w-full\">\n                <Formsy\n                    onValidSubmit={this.onSubmit}\n                    onValid={this.enableButton}\n                    onInvalid={this.disableButton}\n                    ref={(form) => this.form = form}\n                    className=\"flex flex-col justify-center w-full\"\n                >\n                    <TextFieldFormsy\n                        className=\"mb-16\"\n                        type=\"text\"\n                        name=\"displayName\"\n                        label=\"Display name\"\n                        validations={{\n                            minLength: 4\n                        }}\n                        validationErrors={{\n                            minLength: 'Min character length is 4'\n                        }}\n                        InputProps={{\n                            endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">person</Icon></InputAdornment>\n                        }}\n                        variant=\"outlined\"\n                        required\n                    />\n\n                    <TextFieldFormsy\n                        className=\"mb-16\"\n                        type=\"text\"\n                        name=\"email\"\n                        label=\"Email\"\n                        validations=\"isEmail\"\n                        validationErrors={{\n                            isEmail: 'Please enter a valid email'\n                        }}\n                        InputProps={{\n                            endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">email</Icon></InputAdornment>\n                        }}\n                        variant=\"outlined\"\n                        required\n                    />\n\n                    <TextFieldFormsy\n                        className=\"mb-16\"\n                        type=\"password\"\n                        name=\"password\"\n                        label=\"Password\"\n                        validations=\"equalsField:password-confirm\"\n                        validationErrors={{\n                            equalsField: 'Passwords do not match'\n                        }}\n                        InputProps={{\n                            endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">vpn_key</Icon></InputAdornment>\n                        }}\n                        variant=\"outlined\"\n                        required\n                    />\n\n                    <TextFieldFormsy\n                        className=\"mb-16\"\n                        type=\"password\"\n                        name=\"password-confirm\"\n                        label=\"Confirm Password\"\n                        validations=\"equalsField:password\"\n                        validationErrors={{\n                            equalsField: 'Passwords do not match'\n                        }}\n                        InputProps={{\n                            endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">vpn_key</Icon></InputAdornment>\n                        }}\n                        variant=\"outlined\"\n                        required\n                    />\n\n                    <Button\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className=\"w-full mx-auto mt-16 normal-case\"\n                        aria-label=\"REGISTER WITH FIREBASE\"\n                        disabled={!canSubmit}\n                    >\n                        Register with Firebase\n                    </Button>\n                </Formsy>\n            </div>\n        );\n    }\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n        registerWithFirebase: authActions.registerWithFirebase\n    }, dispatch);\n}\n\nfunction mapStateToProps({ auth }) {\n    return {\n        register: auth.register,\n        user: auth.user\n    }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(FirebaseRegisterTab));\n"]},"metadata":{},"sourceType":"module"}