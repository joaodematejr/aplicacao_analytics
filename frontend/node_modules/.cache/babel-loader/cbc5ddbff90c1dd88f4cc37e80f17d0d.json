{"ast":null,"code":"import axios from 'axios';\nimport { setselectedContactId } from './contacts.actions';\nexport var GET_CHAT = '[CHAT PANEL] GET CHAT';\nexport var REMOVE_CHAT = '[CHAT PANEL] REMOVE CHAT';\nexport var SEND_MESSAGE = '[CHAT PANEL] SEND MESSAGE';\nexport function getChat(contactId) {\n  return function (dispatch, getState) {\n    var userId = getState().chatPanel.user.id;\n    var request = axios.get('/api/chat/get-chat', {\n      contactId: contactId,\n      userId: userId\n    });\n    return request.then(function (response) {\n      dispatch(setselectedContactId(contactId));\n      return dispatch({\n        type: GET_CHAT,\n        chat: response.data.chat,\n        userChatData: response.data.userChatData\n      });\n    });\n  };\n}\nexport function removeChat() {\n  return {\n    type: REMOVE_CHAT\n  };\n}\nexport function sendMessage(messageText, chatId, userId) {\n  var message = {\n    'who': userId,\n    'message': messageText,\n    'time': new Date()\n  };\n  var request = axios.post('/api/chat/send-message', {\n    chatId: chatId,\n    message: message\n  });\n  return function (dispatch) {\n    return request.then(function (response) {\n      return dispatch({\n        type: SEND_MESSAGE,\n        message: response.data.message,\n        userChatData: response.data.userChatData\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/frontend/src/app/fuse-layouts/shared-components/chatPanel/store/actions/chat.actions.js"],"names":["axios","setselectedContactId","GET_CHAT","REMOVE_CHAT","SEND_MESSAGE","getChat","contactId","dispatch","getState","userId","chatPanel","user","id","request","get","then","response","type","chat","data","userChatData","removeChat","sendMessage","messageText","chatId","message","Date","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,oBAAT,QAAqC,oBAArC;AAEA,OAAO,IAAMC,QAAQ,GAAG,uBAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,0BAApB;AACP,OAAO,IAAMC,YAAY,GAAG,2BAArB;AAEP,OAAO,SAASC,OAAT,CAAiBC,SAAjB,EAA4B;AAC/B,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAAA,QACfC,MADe,GACJD,QAAQ,GAAGE,SAAX,CAAqBC,IADjB,CACnBC,EADmB;AAE3B,QAAMC,OAAO,GAAGb,KAAK,CAACc,GAAN,CAAU,oBAAV,EAAgC;AAC5CR,MAAAA,SAAS,EAATA,SAD4C;AAE5CG,MAAAA,MAAM,EAANA;AAF4C,KAAhC,CAAhB;AAKA,WAAOI,OAAO,CAACE,IAAR,CAAa,UAACC,QAAD,EAAc;AAE9BT,MAAAA,QAAQ,CAACN,oBAAoB,CAACK,SAAD,CAArB,CAAR;AAGA,aAAOC,QAAQ,CAAC;AACZU,QAAAA,IAAI,EAAEf,QADM;AAEZgB,QAAAA,IAAI,EAAEF,QAAQ,CAACG,IAAT,CAAcD,IAFR;AAGZE,QAAAA,YAAY,EAAEJ,QAAQ,CAACG,IAAT,CAAcC;AAHhB,OAAD,CAAf;AAKH,KAVM,CAAP;AAWH,GAlBD;AAmBH;AAED,OAAO,SAASC,UAAT,GAAsB;AACzB,SAAO;AACHJ,IAAAA,IAAI,EAAEd;AADH,GAAP;AAGH;AAED,OAAO,SAASmB,WAAT,CAAqBC,WAArB,EAAkCC,MAAlC,EAA0Cf,MAA1C,EAAkD;AACrD,MAAMgB,OAAO,GAAG;AACZ,WAAOhB,MADK;AAEZ,eAAWc,WAFC;AAGZ,YAAQ,IAAIG,IAAJ;AAHI,GAAhB;AAMA,MAAMb,OAAO,GAAGb,KAAK,CAAC2B,IAAN,CAAW,wBAAX,EAAqC;AACjDH,IAAAA,MAAM,EAANA,MADiD;AAEjDC,IAAAA,OAAO,EAAPA;AAFiD,GAArC,CAAhB;AAKA,SAAO,UAAClB,QAAD;AAAA,WACHM,OAAO,CAACE,IAAR,CAAa,UAACC,QAAD,EAAc;AACvB,aAAOT,QAAQ,CAAC;AACZU,QAAAA,IAAI,EAAEb,YADM;AAEZqB,QAAAA,OAAO,EAAET,QAAQ,CAACG,IAAT,CAAcM,OAFX;AAGZL,QAAAA,YAAY,EAAEJ,QAAQ,CAACG,IAAT,CAAcC;AAHhB,OAAD,CAAf;AAKH,KAND,CADG;AAAA,GAAP;AASH","sourcesContent":["import axios from 'axios';\nimport { setselectedContactId } from './contacts.actions';\n\nexport const GET_CHAT = '[CHAT PANEL] GET CHAT';\nexport const REMOVE_CHAT = '[CHAT PANEL] REMOVE CHAT';\nexport const SEND_MESSAGE = '[CHAT PANEL] SEND MESSAGE';\n\nexport function getChat(contactId) {\n    return (dispatch, getState) => {\n        const { id: userId } = getState().chatPanel.user;\n        const request = axios.get('/api/chat/get-chat', {\n            contactId,\n            userId\n        });\n\n        return request.then((response) => {\n\n            dispatch(setselectedContactId(contactId));\n\n\n            return dispatch({\n                type: GET_CHAT,\n                chat: response.data.chat,\n                userChatData: response.data.userChatData\n            });\n        });\n    }\n}\n\nexport function removeChat() {\n    return {\n        type: REMOVE_CHAT\n    };\n}\n\nexport function sendMessage(messageText, chatId, userId) {\n    const message = {\n        'who': userId,\n        'message': messageText,\n        'time': new Date()\n    };\n\n    const request = axios.post('/api/chat/send-message', {\n        chatId,\n        message\n    });\n\n    return (dispatch) =>\n        request.then((response) => {\n            return dispatch({\n                type: SEND_MESSAGE,\n                message: response.data.message,\n                userChatData: response.data.userChatData\n            })\n        }\n        );\n}\n"]},"metadata":{},"sourceType":"module"}