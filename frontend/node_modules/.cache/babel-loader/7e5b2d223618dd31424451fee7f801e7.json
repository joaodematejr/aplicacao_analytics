{"ast":null,"code":"import _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/mail/mail/MailDetails.js\";\nimport React, { Component } from 'react';\nimport { Avatar, Divider, Icon, IconButton, Typography } from '@material-ui/core';\nimport { FuseAnimate } from '@fuse';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport _ from '@lodash';\nimport * as Actions from '../store/actions/index';\nimport MailChip from '../MailChip';\n\nvar MailDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailDetails, _Component);\n\n  function MailDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MailDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MailDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showDetails: false\n    };\n    return _this;\n  }\n\n  _createClass(MailDetails, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getMail(this.props.match.params);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          mail = _this$props.mail,\n          labels = _this$props.labels;\n\n      if (!mail) {\n        return '';\n      }\n\n      return React.createElement(\"div\", {\n        className: \"p-16 sm:p-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex items-center justify-between overflow-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(FuseAnimate, {\n        delay: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        className: \"flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, mail.subject)), labels && mail.labels.length > 0 && React.createElement(\"div\", {\n        className: \"flex flex-wrap mt-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, mail.labels.map(function (label) {\n        return React.createElement(MailChip, {\n          className: \"mt-4 mr-4\",\n          title: _.find(labels, {\n            id: label\n          }).title,\n          color: _.find(labels, {\n            id: label\n          }).color,\n          key: label,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        });\n      })))), React.createElement(Divider, {\n        className: \"my-16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(FuseAnimate, {\n        animation: \"transition.slideUpIn\",\n        delay: 200,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex items-start justify-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex items-center justify-start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, mail.from.avatar ? React.createElement(Avatar, {\n        className: \"mr-8\",\n        alt: mail.from.name,\n        src: mail.from.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }) : React.createElement(Avatar, {\n        className: \"mr-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, mail.from.name[0]), React.createElement(\"div\", {\n        className: \"flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, mail.from.name), React.createElement(Typography, {\n        component: \"div\",\n        color: \"textSecondary\",\n        variant: \"body1\",\n        className: \"flex items-center justify-start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"to\"), React.createElement(\"div\", {\n        className: \"ml-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, mail.to[0].name)))), React.createElement(IconButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"more_vert\"))), React.createElement(\"div\", {\n        className: \"my-16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        color: \"primary\",\n        className: \"cursor-pointer underline mb-8\",\n        onClick: function onClick() {\n          _this2.setState({\n            showDetails: !_this2.state.showDetails\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, this.state.showDetails ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Hide Details\") : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Show Details\")), this.state.showDetails && React.createElement(\"div\", {\n        className: \"flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"body2\",\n        className: \"flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"From:\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"To:\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Date:\")), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        className: \"pl-4 flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, mail.from.email), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, mail.to[0].email), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, mail.time)))), React.createElement(Typography, {\n        variant: \"body2\",\n        dangerouslySetInnerHTML: {\n          __html: mail.message\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        className: \"my-16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), mail.attachments && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        className: \"mb-16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Attachments\"), React.createElement(\"span\", {\n        className: \"ml-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"(\", mail.attachments.length, \")\")), React.createElement(\"div\", {\n        className: \"flex flex-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, mail.attachments.map(function (attachment) {\n        return React.createElement(\"div\", {\n          className: \"w-192 pr-16 pb-16\",\n          key: attachment.fileName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"w-full rounded-4\",\n          src: attachment.preview,\n          alt: attachment.fileName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"flex flex-col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          color: \"primary\",\n          className: \"underline cursor-pointer\",\n          onClick: function onClick(event) {\n            return event.preventDefault();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"View\"), React.createElement(Typography, {\n          color: \"primary\",\n          className: \"underline cursor-pointer\",\n          onClick: function onClick(event) {\n            return event.preventDefault();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Download\"), React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"(\", attachment.size, \")\")));\n      }))))));\n    }\n  }]);\n\n  return MailDetails;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getMail: Actions.getMail\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var mailApp = _ref.mailApp;\n  return {\n    mail: mailApp.mail,\n    labels: mailApp.labels\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MailDetails));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/mail/mail/MailDetails.js"],"names":["React","Component","Avatar","Divider","Icon","IconButton","Typography","FuseAnimate","connect","bindActionCreators","withRouter","_","Actions","MailChip","MailDetails","state","showDetails","props","getMail","match","params","mail","labels","subject","length","map","label","find","id","title","color","from","avatar","name","to","setState","email","time","__html","message","attachments","attachment","fileName","preview","event","preventDefault","size","mapDispatchToProps","dispatch","mapStateToProps","mailApp"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Avatar, Divider, Icon, IconButton, Typography} from '@material-ui/core';\nimport {FuseAnimate} from '@fuse';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {withRouter} from 'react-router-dom';\nimport _ from '@lodash';\nimport * as Actions from '../store/actions/index';\nimport MailChip from '../MailChip';\n\nclass MailDetails extends Component {\n\n    state = {showDetails: false};\n\n    componentDidMount()\n    {\n        this.props.getMail(this.props.match.params);\n    }\n\n    render()\n    {\n        const {mail, labels} = this.props;\n\n        if ( !mail )\n        {\n            return '';\n        }\n\n        return (\n            <div className=\"p-16 sm:p-24\">\n                <div className=\"flex items-center justify-between overflow-hidden\">\n\n                    <div className=\"flex flex-col\">\n                        <FuseAnimate delay={100}>\n                            <Typography variant=\"subtitle1\" className=\"flex\">{mail.subject}</Typography>\n                        </FuseAnimate>\n\n                        {labels && mail.labels.length > 0 && (\n                            <div className=\"flex flex-wrap mt-8\">\n                                {mail.labels.map(label => (\n                                    <MailChip className=\"mt-4 mr-4\" title={_.find(labels, {id: label}).title} color={_.find(labels, {id: label}).color} key={label}/>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n\n                </div>\n\n                <Divider className=\"my-16\"/>\n\n                <FuseAnimate animation=\"transition.slideUpIn\" delay={200}>\n                    <div>\n\n                        <div className=\"flex items-start justify-between\">\n\n                            <div className=\"flex items-center justify-start\">\n                                {mail.from.avatar ?\n                                    (\n                                        <Avatar className=\"mr-8\" alt={mail.from.name} src={mail.from.avatar}/>\n                                    )\n                                    :\n                                    (\n                                        <Avatar className=\"mr-8\">\n                                            {mail.from.name[0]}\n                                        </Avatar>\n                                    )\n                                }\n\n                                <div className=\"flex flex-col\">\n                                    <span>{mail.from.name}</span>\n                                    <Typography component=\"div\" color=\"textSecondary\" variant=\"body1\" className=\"flex items-center justify-start\">\n                                        <div>to</div>\n                                        <div className=\"ml-4\">{mail.to[0].name}</div>\n                                    </Typography>\n                                </div>\n                            </div>\n                            <IconButton>\n                                <Icon>more_vert</Icon>\n                            </IconButton>\n                        </div>\n\n                        <div className=\"my-16\">\n                            <Typography\n                                color=\"primary\"\n                                className=\"cursor-pointer underline mb-8\"\n                                onClick={() => {\n                                    this.setState({showDetails: !this.state.showDetails});\n                                }}\n                            >\n                                {this.state.showDetails ?\n                                    (\n                                        <span>Hide Details</span>\n                                    )\n                                    :\n                                    (\n                                        <span>Show Details</span>\n                                    )\n                                }\n                            </Typography>\n\n                            {this.state.showDetails && (\n                                <div className=\"flex\">\n                                    <Typography variant=\"body2\" className=\"flex flex-col\">\n                                        <span>From:</span>\n                                        <span>To:</span>\n                                        <span>Date:</span>\n                                    </Typography>\n\n                                    <Typography variant=\"body2\" color=\"textSecondary\" className=\"pl-4 flex flex-col\">\n                                        <span>{mail.from.email}</span>\n                                        <span>{mail.to[0].email}</span>\n                                        <span>{mail.time}</span>\n                                    </Typography>\n                                </div>\n                            )}\n                        </div>\n\n                        <Typography variant=\"body2\" dangerouslySetInnerHTML={{__html: mail.message}}/>\n\n                        <Divider className=\"my-16\"/>\n\n                        {mail.attachments && (\n                            <div>\n                                <Typography variant=\"subtitle1\" className=\"mb-16\">\n                                    <span>Attachments</span>\n                                    <span className=\"ml-4\">({mail.attachments.length})</span>\n                                </Typography>\n\n                                <div className=\"flex flex-wrap\">\n                                    {mail.attachments.map(attachment => (\n                                        <div className=\"w-192 pr-16 pb-16\" key={attachment.fileName}>\n                                            <img className=\"w-full rounded-4\" src={attachment.preview} alt={attachment.fileName}/>\n                                            <div className=\"flex flex-col\">\n                                                <Typography color=\"primary\" className=\"underline cursor-pointer\" onClick={event => event.preventDefault()}>View</Typography>\n                                                <Typography color=\"primary\" className=\"underline cursor-pointer\" onClick={event => event.preventDefault()}>Download</Typography>\n                                                <Typography>({attachment.size})</Typography>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </FuseAnimate>\n            </div>\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        getMail: Actions.getMail\n    }, dispatch);\n}\n\nfunction mapStateToProps({mailApp})\n{\n    return {\n        mail  : mailApp.mail,\n        labels: mailApp.labels\n    }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MailDetails));\n"]},"metadata":{},"sourceType":"module"}