{"ast":null,"code":"import _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/mail/mails/MailList.js\";\nimport React, { Component } from 'react';\nimport { withStyles, List, Typography } from '@material-ui/core';\nimport { FuseUtils, FuseAnimate, FuseAnimateGroup } from '@fuse';\nimport { withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport _ from '@lodash';\nimport * as Actions from '../store/actions';\nimport MailListItem from './MailListItem';\n\nvar styles = function styles(theme) {\n  return {\n    avatar: {\n      backgroundColor: theme.palette.primary[500]\n    }\n  };\n};\n\nvar MailList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailList, _Component);\n\n  function MailList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MailList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MailList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getFilteredArray = function (entities, searchText) {\n      var arr = Object.keys(entities).map(function (id) {\n        return entities[id];\n      });\n\n      if (searchText.length === 0) {\n        return arr;\n      }\n\n      return FuseUtils.filterArrayByString(arr, searchText);\n    };\n\n    return _this;\n  }\n\n  _createClass(MailList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getMails(this.props.match.params);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.location, prevProps.location)) {\n        this.props.getMails(this.props.match.params);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          mails = _this$props.mails,\n          searchText = _this$props.searchText;\n      var arr = this.getFilteredArray(mails, searchText);\n\n      if (arr.length === 0) {\n        return React.createElement(FuseAnimate, {\n          delay: 100,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex flex-1 items-center justify-center h-full\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          color: \"textSecondary\",\n          variant: \"h5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"There are no messages!\")));\n      }\n\n      return React.createElement(List, {\n        className: \"p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(FuseAnimateGroup, {\n        enter: {\n          animation: \"transition.slideUpBigIn\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, arr.map(function (mail) {\n        return React.createElement(MailListItem, {\n          mail: mail,\n          key: mail.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return MailList;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getMails: Actions.getMails\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var mailApp = _ref.mailApp;\n  return {\n    mails: mailApp.mails.entities,\n    searchText: mailApp.mails.searchText\n  };\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(withRouter(connect(mapStateToProps, mapDispatchToProps)(MailList)));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/mail/mails/MailList.js"],"names":["React","Component","withStyles","List","Typography","FuseUtils","FuseAnimate","FuseAnimateGroup","withRouter","bindActionCreators","connect","_","Actions","MailListItem","styles","theme","avatar","backgroundColor","palette","primary","MailList","getFilteredArray","entities","searchText","arr","Object","keys","map","id","length","filterArrayByString","props","getMails","match","params","prevProps","prevState","isEqual","location","mails","animation","mail","mapDispatchToProps","dispatch","mapStateToProps","mailApp","withTheme"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {withStyles, List, Typography} from '@material-ui/core';\nimport {FuseUtils, FuseAnimate, FuseAnimateGroup} from '@fuse';\nimport {withRouter} from 'react-router-dom';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport _ from '@lodash';\nimport * as Actions from '../store/actions';\nimport MailListItem from './MailListItem';\n\nconst styles = theme => ({\n    avatar: {\n        backgroundColor: theme.palette.primary[500]\n    }\n});\n\nclass MailList extends Component {\n\n    componentDidMount()\n    {\n        this.props.getMails(this.props.match.params);\n    }\n\n    componentDidUpdate(prevProps, prevState)\n    {\n        if ( !_.isEqual(this.props.location, prevProps.location) )\n        {\n            this.props.getMails(this.props.match.params);\n        }\n    }\n\n    getFilteredArray = (entities, searchText) => {\n        const arr = Object.keys(entities).map((id) => entities[id]);\n        if ( searchText.length === 0 )\n        {\n            return arr;\n        }\n        return FuseUtils.filterArrayByString(arr, searchText);\n    };\n\n    render()\n    {\n        const {mails, searchText} = this.props;\n\n        const arr = this.getFilteredArray(mails, searchText);\n\n        if ( arr.length === 0 )\n        {\n            return (\n                <FuseAnimate delay={100}>\n                    <div className=\"flex flex-1 items-center justify-center h-full\">\n                        <Typography color=\"textSecondary\" variant=\"h5\">\n                            There are no messages!\n                        </Typography>\n                    </div>\n                </FuseAnimate>\n            );\n        }\n\n        return (\n            <List className=\"p-0\">\n                <FuseAnimateGroup\n                    enter={{\n                        animation: \"transition.slideUpBigIn\"\n                    }}\n                >\n                    {\n                        arr.map((mail) => (\n                                <MailListItem mail={mail} key={mail.id}/>\n                            )\n                        )\n                    }\n                </FuseAnimateGroup>\n            </List>\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        getMails: Actions.getMails\n    }, dispatch);\n}\n\nfunction mapStateToProps({mailApp})\n{\n    return {\n        mails     : mailApp.mails.entities,\n        searchText: mailApp.mails.searchText\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(withRouter(connect(mapStateToProps, mapDispatchToProps)(MailList)));\n"]},"metadata":{},"sourceType":"module"}