{"ast":null,"code":"import _toConsumableArray from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as Actions from '../actions';\nimport _ from '@lodash';\nvar initialState = {\n  entities: [],\n  routeParams: {},\n  selectedMailIds: [],\n  searchText: ''\n};\n\nvar mailsReducer = function mailsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case Actions.GET_MAILS:\n      {\n        return _objectSpread({}, state, {\n          entities: _.keyBy(action.payload, 'id'),\n          searchText: '',\n          routeParams: action.routeParams\n        });\n      }\n\n    case Actions.UPDATE_MAILS:\n      {\n        return _objectSpread({}, state, {\n          entities: _.keyBy(action.payload, 'id')\n        });\n      }\n\n    case Actions.SELECT_ALL_MAILS:\n      {\n        var arr = Object.keys(state.entities).map(function (k) {\n          return state.entities[k];\n        });\n        var selectedMailIds = arr.map(function (mail) {\n          return mail.id;\n        });\n        return _objectSpread({}, state, {\n          selectedMailIds: selectedMailIds\n        });\n      }\n\n    case Actions.DESELECT_ALL_MAILS:\n      {\n        return _objectSpread({}, state, {\n          selectedMailIds: []\n        });\n      }\n\n    case Actions.SELECT_MAILS_BY_PARAMETER:\n      {\n        var filter = action.payload;\n\n        var _arr = Object.keys(state.entities).map(function (k) {\n          return state.entities[k];\n        });\n\n        var _selectedMailIds = _arr.filter(function (mail) {\n          return mail[filter.parameter] === filter.value;\n        }).map(function (mail) {\n          return mail.id;\n        });\n\n        return _objectSpread({}, state, {\n          selectedMailIds: _selectedMailIds\n        });\n      }\n\n    case Actions.TOGGLE_IN_SELECTED_MAILS:\n      {\n        var mailId = action.mailId;\n\n        var _selectedMailIds2 = _toConsumableArray(state.selectedMailIds);\n\n        if (_selectedMailIds2.find(function (id) {\n          return id === mailId;\n        }) !== undefined) {\n          _selectedMailIds2 = _selectedMailIds2.filter(function (id) {\n            return id !== mailId;\n          });\n        } else {\n          _selectedMailIds2 = [].concat(_toConsumableArray(_selectedMailIds2), [mailId]);\n        }\n\n        return _objectSpread({}, state, {\n          selectedMailIds: _selectedMailIds2\n        });\n      }\n\n    case Actions.SET_SEARCH_TEXT:\n      {\n        return _objectSpread({}, state, {\n          searchText: action.searchText\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default mailsReducer;","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/mail/store/reducers/mails.reducer.js"],"names":["Actions","_","initialState","entities","routeParams","selectedMailIds","searchText","mailsReducer","state","action","type","GET_MAILS","keyBy","payload","UPDATE_MAILS","SELECT_ALL_MAILS","arr","Object","keys","map","k","mail","id","DESELECT_ALL_MAILS","SELECT_MAILS_BY_PARAMETER","filter","parameter","value","TOGGLE_IN_SELECTED_MAILS","mailId","find","undefined","SET_SEARCH_TEXT"],"mappings":"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","sourcesContent":["import * as Actions from '../actions';\nimport _ from '@lodash';\n\nconst initialState = {\n    entities       : [],\n    routeParams    : {},\n    selectedMailIds: [],\n    searchText     : ''\n};\n\nconst mailsReducer = function (state = initialState, action) {\n    switch ( action.type )\n    {\n        case Actions.GET_MAILS:\n        {\n\n            return {\n                ...state,\n                entities   : _.keyBy(action.payload, 'id'),\n                searchText : '',\n                routeParams: action.routeParams\n            };\n        }\n        case Actions.UPDATE_MAILS:\n        {\n            return {\n                ...state,\n                entities: _.keyBy(action.payload, 'id')\n            };\n        }\n        case Actions.SELECT_ALL_MAILS:\n        {\n            const arr = Object.keys(state.entities).map(k => state.entities[k]);\n\n            const selectedMailIds = arr.map(mail => mail.id);\n\n            return {\n                ...state,\n                selectedMailIds\n            };\n        }\n        case Actions.DESELECT_ALL_MAILS:\n        {\n            return {\n                ...state,\n                selectedMailIds: []\n            };\n        }\n        case Actions.SELECT_MAILS_BY_PARAMETER:\n        {\n            const filter = action.payload;\n            const arr = Object.keys(state.entities).map(k => state.entities[k]);\n            const selectedMailIds = arr.filter(mail => mail[filter.parameter] === filter.value)\n                .map(mail => mail.id);\n            return {\n                ...state,\n                selectedMailIds\n            };\n        }\n        case Actions.TOGGLE_IN_SELECTED_MAILS:\n        {\n\n            const mailId = action.mailId;\n\n            let selectedMailIds = [...state.selectedMailIds];\n\n            if ( selectedMailIds.find(id => id === mailId) !== undefined )\n            {\n                selectedMailIds = selectedMailIds.filter(id => id !== mailId);\n            }\n            else\n            {\n                selectedMailIds = [...selectedMailIds, mailId];\n            }\n\n            return {\n                ...state,\n                selectedMailIds\n            };\n        }\n        case Actions.SET_SEARCH_TEXT:\n        {\n            return {\n                ...state,\n                searchText: action.searchText\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport default mailsReducer;\n"]},"metadata":{},"sourceType":"module"}