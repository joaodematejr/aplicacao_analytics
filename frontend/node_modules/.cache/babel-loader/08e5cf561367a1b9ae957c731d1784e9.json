{"ast":null,"code":"import _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/academy/courses/Courses.js\";\nimport React, { Component } from 'react';\nimport { withStyles, Button, Card, CardContent, OutlinedInput, Icon, TextField, Typography, CardActions, Divider, Select, InputLabel, FormControl, MenuItem, LinearProgress } from '@material-ui/core';\nimport { FuseAnimate, FuseAnimateGroup } from '@fuse';\nimport withReducer from 'app/store/withReducer';\nimport { bindActionCreators } from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nimport { Link } from 'react-router-dom';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\n\nvar styles = function styles(theme) {\n  return {\n    header: {\n      background: 'linear-gradient(to right, ' + theme.palette.primary.dark + ' 0%, ' + theme.palette.primary.main + ' 100%)',\n      color: theme.palette.getContrastText(theme.palette.primary.main)\n    },\n    headerIcon: {\n      position: 'absolute',\n      top: -64,\n      left: 0,\n      opacity: .04,\n      fontSize: 512,\n      width: 512,\n      height: 512,\n      pointerEvents: 'none'\n    }\n  };\n};\n\nvar Courses =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Courses, _Component);\n\n  function Courses() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Courses);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Courses)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: _this.props.courses\n    };\n\n    _this.getFilteredArray = function (data, searchText, categoryFilter) {\n      if (searchText.length === 0 && categoryFilter === \"all\") {\n        return data;\n      }\n\n      return _.filter(data, function (item) {\n        if (categoryFilter !== \"all\" && item.category !== categoryFilter) {\n          return false;\n        }\n\n        return item.title.toLowerCase().includes(searchText.toLowerCase());\n      });\n    };\n\n    _this.buttonStatus = function (course) {\n      switch (course.activeStep) {\n        case course.totalSteps:\n          return \"COMPLETED\";\n\n        case 0:\n          return \"START\";\n\n        default:\n          return \"CONTINUE\";\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Courses, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getCategories();\n      this.props.getCourses();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.courses, prevProps.courses) || !_.isEqual(this.props.searchText, prevProps.searchText) || !_.isEqual(this.props.categoryFilter, prevProps.categoryFilter)) {\n        var data = this.getFilteredArray(this.props.courses, this.props.searchText, this.props.categoryFilter);\n        this.setState({\n          data: data\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          setSearchText = _this$props.setSearchText,\n          searchText = _this$props.searchText,\n          categories = _this$props.categories,\n          categoryFilter = _this$props.categoryFilter,\n          setCategoryFilter = _this$props.setCategoryFilter,\n          theme = _this$props.theme;\n      var data = this.state.data;\n      return React.createElement(\"div\", {\n        className: \"w-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classNames(classes.header, \"relative overflow-hidden flex flex-col items-center justify-center text-center p-16 sm:p-24 h-200 sm:h-288\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(FuseAnimate, {\n        animation: \"transition.slideUpIn\",\n        duration: 400,\n        delay: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        color: \"inherit\",\n        className: \"text-24 sm:text-40 font-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"WELCOME TO ACADEMY\")), React.createElement(FuseAnimate, {\n        duration: 400,\n        delay: 600,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        color: \"inherit\",\n        className: \"mt-8 sm:mt-16 mx-auto max-w-512\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"opacity-75\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Our courses will step you through the process of building a small application, or adding a new feature to an existing application.\"))), React.createElement(Icon, {\n        className: classes.headerIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"school\")), React.createElement(\"div\", {\n        className: \"max-w-2xl w-full mx-auto px-8 sm:px-16 py-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex flex-col sm:flex-row items-center justify-between py-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Search for a course\",\n        placeholder: \"Enter a keyword...\",\n        className: \"flex w-full sm:w-320 mb-16 sm:mb-0 mx-16\",\n        value: searchText,\n        inputProps: {\n          'aria-label': 'Search'\n        },\n        onChange: setSearchText,\n        variant: \"outlined\",\n        InputLabelProps: {\n          shrink: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(FormControl, {\n        className: \"flex w-full sm:w-320 mx-16\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"category-label-placeholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Category\"), React.createElement(Select, {\n        value: categoryFilter,\n        onChange: setCategoryFilter,\n        input: React.createElement(OutlinedInput, {\n          labelWidth: \"category\".length * 9,\n          name: \"category\",\n          id: \"category-label-placeholder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: \"all\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"All\")), categories.map(function (category) {\n        return React.createElement(MenuItem, {\n          value: category.value,\n          key: category.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, category.label);\n      })))), React.createElement(FuseAnimateGroup, {\n        enter: {\n          animation: \"transition.slideUpBigIn\"\n        },\n        className: \"flex flex-wrap py-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, data.length === 0 && React.createElement(\"div\", {\n        className: \"flex flex-1 items-center justify-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        color: \"textSecondary\",\n        className: \"text-24 my-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"No courses found!\")), data.map(function (course) {\n        var category = categories.find(function (_cat) {\n          return _cat.value === course.category;\n        });\n        return React.createElement(\"div\", {\n          className: \"w-full pb-24 sm:w-1/2 lg:w-1/3 sm:p-16\",\n          key: course.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(Card, {\n          elevation: 1,\n          className: \"flex flex-col h-256\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex flex-no-shrink items-center justify-between px-24 h-64\",\n          style: {\n            background: category.color,\n            color: theme.palette.getContrastText(category.color)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: \"font-medium truncate\",\n          color: \"inherit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, category.label), React.createElement(\"div\", {\n          className: \"flex items-center justify-center opacity-75\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          className: \"text-20 mr-8\",\n          color: \"inherit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, \"access_time\"), React.createElement(\"div\", {\n          className: \"text-16 whitespace-no-wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, course.length, \" min\"))), React.createElement(CardContent, {\n          className: \"flex flex-col flex-auto items-center justify-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: \"text-center text-16 font-400\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, course.title), React.createElement(Typography, {\n          className: \"text-center text-13 font-600 mt-4\",\n          color: \"textSecondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, course.updated)), React.createElement(Divider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }), React.createElement(CardActions, {\n          className: \"justify-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(Button, {\n          to: \"/apps/academy/courses/\".concat(course.id, \"/\").concat(course.slug),\n          component: Link,\n          className: \"justify-start px-32\",\n          color: \"secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, _this2.buttonStatus(course))), React.createElement(LinearProgress, {\n          className: \"w-full\",\n          variant: \"determinate\",\n          value: course.activeStep * 100 / course.totalSteps,\n          color: \"secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        })));\n      }))));\n    }\n  }]);\n\n  return Courses;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getCategories: Actions.getCategories,\n    getCourses: Actions.getCourses,\n    setCategoryFilter: Actions.setCategoryFilter,\n    setSearchText: Actions.setCoursesSearchText\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var academyApp = _ref.academyApp;\n  return {\n    courses: academyApp.courses.data,\n    searchText: academyApp.courses.searchText,\n    categories: academyApp.courses.categories,\n    categoryFilter: academyApp.courses.categoryFilter\n  };\n}\n\nexport default withReducer('academyApp', reducer)(withStyles(styles, {\n  withTheme: true\n})(connect(mapStateToProps, mapDispatchToProps)(Courses)));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/academy/courses/Courses.js"],"names":["React","Component","withStyles","Button","Card","CardContent","OutlinedInput","Icon","TextField","Typography","CardActions","Divider","Select","InputLabel","FormControl","MenuItem","LinearProgress","FuseAnimate","FuseAnimateGroup","withReducer","bindActionCreators","connect","classNames","_","Link","Actions","reducer","styles","theme","header","background","palette","primary","dark","main","color","getContrastText","headerIcon","position","top","left","opacity","fontSize","width","height","pointerEvents","Courses","state","data","props","courses","getFilteredArray","searchText","categoryFilter","length","filter","item","category","title","toLowerCase","includes","buttonStatus","course","activeStep","totalSteps","getCategories","getCourses","prevProps","prevState","isEqual","setState","classes","setSearchText","categories","setCategoryFilter","shrink","map","value","id","label","animation","find","_cat","updated","slug","mapDispatchToProps","dispatch","setCoursesSearchText","mapStateToProps","academyApp","withTheme"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n    withStyles,\n    Button,\n    Card,\n    CardContent,\n    OutlinedInput,\n    Icon,\n    TextField,\n    Typography,\n    CardActions,\n    Divider,\n    Select,\n    InputLabel,\n    FormControl,\n    MenuItem,\n    LinearProgress\n} from '@material-ui/core';\nimport {FuseAnimate, FuseAnimateGroup} from '@fuse';\nimport withReducer from 'app/store/withReducer';\nimport {bindActionCreators} from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nimport {Link} from 'react-router-dom';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\n\nconst styles = theme => ({\n    header    : {\n        background: 'linear-gradient(to right, ' + theme.palette.primary.dark + ' 0%, ' + theme.palette.primary.main + ' 100%)',\n        color     : theme.palette.getContrastText(theme.palette.primary.main)\n    },\n    headerIcon: {\n        position     : 'absolute',\n        top          : -64,\n        left         : 0,\n        opacity      : .04,\n        fontSize     : 512,\n        width        : 512,\n        height       : 512,\n        pointerEvents: 'none'\n    }\n});\n\nclass Courses extends Component {\n\n    state = {\n        data: this.props.courses\n    };\n\n    componentDidMount()\n    {\n        this.props.getCategories();\n        this.props.getCourses();\n    }\n\n    componentDidUpdate(prevProps, prevState)\n    {\n        if ( !_.isEqual(this.props.courses, prevProps.courses) ||\n            !_.isEqual(this.props.searchText, prevProps.searchText) ||\n            !_.isEqual(this.props.categoryFilter, prevProps.categoryFilter)\n        )\n        {\n            const data = this.getFilteredArray(this.props.courses, this.props.searchText, this.props.categoryFilter);\n            this.setState({data})\n        }\n    }\n\n    getFilteredArray = (data, searchText, categoryFilter) => {\n        if ( searchText.length === 0 && categoryFilter === \"all\" )\n        {\n            return data;\n        }\n\n        return _.filter(data, item => {\n            if ( categoryFilter !== \"all\" && item.category !== categoryFilter )\n            {\n                return false;\n            }\n            return item.title.toLowerCase().includes(searchText.toLowerCase())\n        });\n    };\n\n    buttonStatus = (course) => {\n        switch ( course.activeStep )\n        {\n            case course.totalSteps:\n                return \"COMPLETED\";\n            case 0:\n                return \"START\";\n            default:\n                return \"CONTINUE\";\n        }\n    };\n\n    render()\n    {\n        const {classes, setSearchText, searchText, categories, categoryFilter, setCategoryFilter, theme} = this.props;\n\n        const {data} = this.state;\n\n        return (\n            <div className=\"w-full\">\n\n                <div className={classNames(classes.header, \"relative overflow-hidden flex flex-col items-center justify-center text-center p-16 sm:p-24 h-200 sm:h-288\")}>\n\n                    <FuseAnimate animation=\"transition.slideUpIn\" duration={400} delay={100}>\n                        <Typography color=\"inherit\" className=\"text-24 sm:text-40 font-light\">\n                            WELCOME TO ACADEMY\n                        </Typography>\n                    </FuseAnimate>\n\n                    <FuseAnimate duration={400} delay={600}>\n                        <Typography variant=\"subtitle1\" color=\"inherit\" className=\"mt-8 sm:mt-16 mx-auto max-w-512\">\n                            <span className=\"opacity-75\">\n                                Our courses will step you through the process of building a small application, or adding a new feature to an existing\n                                application.\n                            </span>\n                        </Typography>\n                    </FuseAnimate>\n\n                    <Icon className={classes.headerIcon}>school</Icon>\n                </div>\n\n                <div className=\"max-w-2xl w-full mx-auto px-8 sm:px-16 py-24\">\n                    <div className=\"flex flex-col sm:flex-row items-center justify-between py-24\">\n                        <TextField\n                            label=\"Search for a course\"\n                            placeholder=\"Enter a keyword...\"\n                            className=\"flex w-full sm:w-320 mb-16 sm:mb-0 mx-16\"\n                            value={searchText}\n                            inputProps={{\n                                'aria-label': 'Search'\n                            }}\n                            onChange={setSearchText}\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                shrink: true\n                            }}\n                        />\n                        <FormControl className=\"flex w-full sm:w-320 mx-16\" variant=\"outlined\">\n                            <InputLabel htmlFor=\"category-label-placeholder\">\n                                Category\n                            </InputLabel>\n                            <Select\n                                value={categoryFilter}\n                                onChange={setCategoryFilter}\n                                input={\n                                    <OutlinedInput\n                                        labelWidth={(\"category\".length * 9)}\n                                        name=\"category\"\n                                        id=\"category-label-placeholder\"\n                                    />\n                                }\n                            >\n                                <MenuItem value=\"all\">\n                                    <em>All</em>\n                                </MenuItem>\n\n                                {categories.map(category => (\n                                    <MenuItem value={category.value} key={category.id}>{category.label}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <FuseAnimateGroup\n                        enter={{\n                            animation: \"transition.slideUpBigIn\"\n                        }}\n                        className=\"flex flex-wrap py-24\"\n                    >\n                        {data.length === 0 && (\n                            <div className=\"flex flex-1 items-center justify-center\">\n                                <Typography color=\"textSecondary\" className=\"text-24 my-24\">\n                                    No courses found!\n                                </Typography>\n                            </div>\n                        )}\n\n                        {data.map((course) => {\n                            const category = categories.find(_cat => _cat.value === course.category);\n                            return (\n                                <div className=\"w-full pb-24 sm:w-1/2 lg:w-1/3 sm:p-16\" key={course.id}>\n                                    <Card elevation={1} className=\"flex flex-col h-256\">\n                                        <div\n                                            className=\"flex flex-no-shrink items-center justify-between px-24 h-64\"\n                                            style={{\n                                                background: category.color,\n                                                color     : theme.palette.getContrastText(category.color)\n                                            }}\n                                        >\n                                            <Typography className=\"font-medium truncate\" color=\"inherit\">{category.label}</Typography>\n                                            <div className=\"flex items-center justify-center opacity-75\">\n                                                <Icon className=\"text-20 mr-8\" color=\"inherit\">access_time</Icon>\n                                                <div className=\"text-16 whitespace-no-wrap\">{course.length} min</div>\n                                            </div>\n                                        </div>\n                                        <CardContent className=\"flex flex-col flex-auto items-center justify-center\">\n                                            <Typography className=\"text-center text-16 font-400\">{course.title}</Typography>\n                                            <Typography className=\"text-center text-13 font-600 mt-4\" color=\"textSecondary\">{course.updated}</Typography>\n                                        </CardContent>\n                                        <Divider/>\n                                        <CardActions className=\"justify-center\">\n                                            <Button\n                                                to={`/apps/academy/courses/${course.id}/${course.slug}`}\n                                                component={Link}\n                                                className=\"justify-start px-32\"\n                                                color=\"secondary\"\n                                            >\n                                                {this.buttonStatus(course)}\n                                            </Button>\n                                        </CardActions>\n                                        <LinearProgress\n                                            className=\"w-full\"\n                                            variant=\"determinate\"\n                                            value={course.activeStep * 100 / course.totalSteps}\n                                            color=\"secondary\"\n                                        />\n                                    </Card>\n                                </div>\n                            )\n                        })}\n                    </FuseAnimateGroup>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        getCategories    : Actions.getCategories,\n        getCourses       : Actions.getCourses,\n        setCategoryFilter: Actions.setCategoryFilter,\n        setSearchText    : Actions.setCoursesSearchText\n    }, dispatch);\n}\n\nfunction mapStateToProps({academyApp})\n{\n    return {\n        courses       : academyApp.courses.data,\n        searchText    : academyApp.courses.searchText,\n        categories    : academyApp.courses.categories,\n        categoryFilter: academyApp.courses.categoryFilter\n    }\n}\n\nexport default withReducer('academyApp', reducer)(withStyles(styles, {withTheme: true})(connect(mapStateToProps, mapDispatchToProps)(Courses)));\n"]},"metadata":{},"sourceType":"module"}