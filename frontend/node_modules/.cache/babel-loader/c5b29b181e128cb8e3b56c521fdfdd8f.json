{"ast":null,"code":"import _objectSpread from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/e-commerce/product/Product.js\";\nimport React, { Component } from 'react';\nimport { withStyles, Button, Tab, Tabs, TextField, InputAdornment, Icon, Typography } from '@material-ui/core';\nimport { FuseAnimate, FusePageCarded, FuseChipSelect } from '@fuse';\nimport { orange } from '@material-ui/core/colors';\nimport { Link, withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\n\nvar styles = function styles(theme) {\n  return {\n    productImageFeaturedStar: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      color: orange[400],\n      opacity: 0\n    },\n    productImageItem: {\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut,\n      '&:hover': {\n        boxShadow: theme.shadows[5],\n        '& $productImageFeaturedStar': {\n          opacity: .8\n        }\n      },\n      '&.featured': {\n        pointerEvents: 'none',\n        boxShadow: theme.shadows[3],\n        '& $productImageFeaturedStar': {\n          opacity: 1\n        },\n        '&:hover $productImageFeaturedStar': {\n          opacity: 1\n        }\n      }\n    }\n  };\n};\n\nvar Product =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Product, _Component);\n\n  function Product() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Product);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Product)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      tabValue: 0,\n      form: null\n    };\n\n    _this.updateFormState = function () {\n      _this.setState({\n        form: _this.props.product.data\n      });\n    };\n\n    _this.updateProductState = function () {\n      var params = _this.props.match.params;\n      var productId = params.productId;\n\n      if (productId === 'new') {\n        _this.props.newProduct();\n      } else {\n        _this.props.getProduct(_this.props.match.params);\n      }\n    };\n\n    _this.handleChangeTab = function (event, tabValue) {\n      _this.setState({\n        tabValue: tabValue\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        form: _.set(_objectSpread({}, _this.state.form), event.target.name, event.target.type === 'checkbox' ? event.target.checked : event.target.value)\n      });\n    };\n\n    _this.handleChipChange = function (value, name) {\n      _this.setState({\n        form: _.set(_objectSpread({}, _this.state.form), name, value.map(function (item) {\n          return item.value;\n        }))\n      });\n    };\n\n    _this.setFeaturedImage = function (id) {\n      _this.setState({\n        form: _.set(_objectSpread({}, _this.state.form), 'featuredImageId', id)\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Product, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateProductState();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (!_.isEqual(this.props.location, prevProps.location)) {\n        this.updateProductState();\n      }\n\n      if (this.props.product.data && !this.state.form || this.props.product.data && this.state.form && this.props.product.data.id !== this.state.form.id) {\n        this.updateFormState();\n      }\n    }\n  }, {\n    key: \"canBeSubmitted\",\n    value: function canBeSubmitted() {\n      var name = this.state.form.name;\n      return name.length > 0 && !_.isEqual(this.props.product.data, this.state.form);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          saveProduct = _this$props.saveProduct;\n      var _this$state = this.state,\n          tabValue = _this$state.tabValue,\n          form = _this$state.form;\n      return React.createElement(FusePageCarded, {\n        classes: {\n          toolbar: \"p-0\",\n          header: \"min-h-72 h-72 sm:h-136 sm:min-h-136\"\n        },\n        header: form && React.createElement(\"div\", {\n          className: \"flex flex-1 w-full items-center justify-between\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex flex-col items-start max-w-full\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(FuseAnimate, {\n          animation: \"transition.slideRightIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: \"normal-case flex items-center sm:mb-12\",\n          component: Link,\n          role: \"button\",\n          to: \"/apps/e-commerce/products\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          className: \"mr-4 text-20\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"arrow_back\"), \"Products\")), React.createElement(\"div\", {\n          className: \"flex items-center max-w-full\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(FuseAnimate, {\n          animation: \"transition.expandIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, form.images.length > 0 ? React.createElement(\"img\", {\n          className: \"w-32 sm:w-48 mr-8 sm:mr-16 rounded\",\n          src: _.find(form.images, {\n            id: form.featuredImageId\n          }).url,\n          alt: form.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }) : React.createElement(\"img\", {\n          className: \"w-32 sm:w-48 mr-8 sm:mr-16 rounded\",\n          src: \"assets/images/ecommerce/product-image-placeholder.png\",\n          alt: form.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"flex flex-col min-w-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(FuseAnimate, {\n          animation: \"transition.slideLeftIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: \"text-16 sm:text-20 truncate\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, form.name ? form.name : 'New Product')), React.createElement(FuseAnimate, {\n          animation: \"transition.slideLeftIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          variant: \"caption\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Product Detail\"))))), React.createElement(FuseAnimate, {\n          animation: \"transition.slideRightIn\",\n          delay: 300,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"whitespace-no-wrap\",\n          variant: \"contained\",\n          disabled: !this.canBeSubmitted(),\n          onClick: function onClick() {\n            return saveProduct(form);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \"Save\"))),\n        contentToolbar: React.createElement(Tabs, {\n          value: tabValue,\n          onChange: this.handleChangeTab,\n          indicatorColor: \"secondary\",\n          textColor: \"secondary\",\n          variant: \"scrollable\",\n          scrollButtons: \"auto\",\n          classes: {\n            root: \"w-full h-64\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(Tab, {\n          className: \"h-64 normal-case\",\n          label: \"Basic Info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }), React.createElement(Tab, {\n          className: \"h-64 normal-case\",\n          label: \"Product Images\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }), React.createElement(Tab, {\n          className: \"h-64 normal-case\",\n          label: \"Pricing\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }), React.createElement(Tab, {\n          className: \"h-64 normal-case\",\n          label: \"Inventory\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }), React.createElement(Tab, {\n          className: \"h-64 normal-case\",\n          label: \"Shipping\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        })),\n        content: form && React.createElement(\"div\", {\n          className: \"p-16 sm:p-24 max-w-2xl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, tabValue === 0 && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          error: form.name === '',\n          required: true,\n          label: \"Name\",\n          autoFocus: true,\n          id: \"name\",\n          name: \"name\",\n          value: form.name,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          id: \"description\",\n          name: \"description\",\n          onChange: this.handleChange,\n          label: \"Description\",\n          type: \"text\",\n          value: form.description,\n          multiline: true,\n          rows: 5,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }), React.createElement(FuseChipSelect, {\n          className: \"mt-8 mb-24\",\n          value: form.categories.map(function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          onChange: function onChange(value) {\n            return _this2.handleChipChange(value, 'categories');\n          },\n          placeholder: \"Select multiple categories\",\n          textFieldProps: {\n            label: 'Categories',\n            InputLabelProps: {\n              shrink: true\n            },\n            variant: 'outlined'\n          },\n          isMulti: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }), React.createElement(FuseChipSelect, {\n          className: \"mt-8 mb-16\",\n          value: form.tags.map(function (item) {\n            return {\n              value: item,\n              label: item\n            };\n          }),\n          onChange: function onChange(value) {\n            return _this2.handleChipChange(value, 'tags');\n          },\n          placeholder: \"Select multiple tags\",\n          textFieldProps: {\n            label: 'Tags',\n            InputLabelProps: {\n              shrink: true\n            },\n            variant: 'outlined'\n          },\n          isMulti: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        })), tabValue === 1 && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex justify-center sm:justify-start flex-wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, form.images.map(function (media) {\n          return React.createElement(\"div\", {\n            onClick: function onClick() {\n              return _this2.setFeaturedImage(media.id);\n            },\n            className: classNames(classes.productImageItem, \"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer\", media.id === form.featuredImageId && 'featured'),\n            key: media.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 270\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            className: classes.productImageFeaturedStar,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 280\n            },\n            __self: this\n          }, \"star\"), React.createElement(\"img\", {\n            className: \"max-w-none w-auto h-full\",\n            src: media.url,\n            alt: \"product\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 281\n            },\n            __self: this\n          }));\n        }))), tabValue === 2 && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Tax Excluded Price\",\n          id: \"priceTaxExcl\",\n          name: \"priceTaxExcl\",\n          value: form.priceTaxExcl,\n          onChange: this.handleChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 298\n              },\n              __self: this\n            }, \"$\")\n          },\n          type: \"number\",\n          variant: \"outlined\",\n          autoFocus: true,\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Tax Included Price\",\n          id: \"priceTaxIncl\",\n          name: \"priceTaxIncl\",\n          value: form.priceTaxIncl,\n          onChange: this.handleChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 314\n              },\n              __self: this\n            }, \"$\")\n          },\n          type: \"number\",\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Tax Rate\",\n          id: \"taxRate\",\n          name: \"taxRate\",\n          value: form.taxRate,\n          onChange: this.handleChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 330\n              },\n              __self: this\n            }, \"$\")\n          },\n          type: \"number\",\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Compared Price\",\n          id: \"comparedPrice\",\n          name: \"comparedPrice\",\n          value: form.comparedPrice,\n          onChange: this.handleChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 345\n              },\n              __self: this\n            }, \"$\")\n          },\n          type: \"number\",\n          variant: \"outlined\",\n          fullWidth: true,\n          helperText: \"Add a compare price to show next to the real price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337\n          },\n          __self: this\n        })), tabValue === 3 && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          required: true,\n          label: \"SKU\",\n          autoFocus: true,\n          id: \"sku\",\n          name: \"sku\",\n          value: form.sku,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Quantity\",\n          id: \"quantity\",\n          name: \"quantity\",\n          value: form.quantity,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          type: \"number\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          },\n          __self: this\n        })), tabValue === 4 && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"mt-8 mb-16 mr-8\",\n          label: \"Width\",\n          autoFocus: true,\n          id: \"width\",\n          name: \"width\",\n          value: form.width,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16 mr-8\",\n          label: \"Height\",\n          id: \"height\",\n          name: \"height\",\n          value: form.height,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16 mr-8\",\n          label: \"Depth\",\n          id: \"depth\",\n          name: \"depth\",\n          value: form.depth,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        })), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Weight\",\n          id: \"weight\",\n          name: \"weight\",\n          value: form.weight,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 423\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          className: \"mt-8 mb-16\",\n          label: \"Extra Shipping Fee\",\n          id: \"extraShippingFee\",\n          name: \"extraShippingFee\",\n          value: form.extraShippingFee,\n          onChange: this.handleChange,\n          variant: \"outlined\",\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 443\n              },\n              __self: this\n            }, \"$\")\n          },\n          fullWidth: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 434\n          },\n          __self: this\n        }))),\n        innerScroll: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Product;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getProduct: Actions.getProduct,\n    newProduct: Actions.newProduct,\n    saveProduct: Actions.saveProduct\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var eCommerceApp = _ref.eCommerceApp;\n  return {\n    product: eCommerceApp.product\n  };\n}\n\nexport default withReducer('eCommerceApp', reducer)(withStyles(styles, {\n  withTheme: true\n})(withRouter(connect(mapStateToProps, mapDispatchToProps)(Product))));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/e-commerce/product/Product.js"],"names":["React","Component","withStyles","Button","Tab","Tabs","TextField","InputAdornment","Icon","Typography","FuseAnimate","FusePageCarded","FuseChipSelect","orange","Link","withRouter","bindActionCreators","connect","classNames","_","withReducer","Actions","reducer","styles","theme","productImageFeaturedStar","position","top","right","color","opacity","productImageItem","transitionProperty","transitionDuration","transitions","duration","short","transitionTimingFunction","easing","easeInOut","boxShadow","shadows","pointerEvents","Product","state","tabValue","form","updateFormState","setState","props","product","data","updateProductState","params","match","productId","newProduct","getProduct","handleChangeTab","event","handleChange","set","target","name","type","checked","value","handleChipChange","map","item","setFeaturedImage","id","prevProps","prevState","snapshot","isEqual","location","length","classes","saveProduct","toolbar","header","images","find","featuredImageId","url","canBeSubmitted","root","description","categories","label","InputLabelProps","shrink","variant","tags","media","priceTaxExcl","startAdornment","priceTaxIncl","taxRate","comparedPrice","sku","quantity","width","height","depth","weight","extraShippingFee","mapDispatchToProps","dispatch","mapStateToProps","eCommerceApp","withTheme"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {withStyles, Button, Tab, Tabs, TextField, InputAdornment, Icon, Typography} from '@material-ui/core';\nimport {FuseAnimate, FusePageCarded, FuseChipSelect} from '@fuse';\nimport {orange} from '@material-ui/core/colors';\nimport {Link, withRouter} from 'react-router-dom';\nimport {bindActionCreators} from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nimport withReducer from 'app/store/withReducer';\nimport * as Actions from '../store/actions';\nimport reducer from '../store/reducers';\n\nconst styles = theme => ({\n    productImageFeaturedStar: {\n        position: 'absolute',\n        top     : 0,\n        right   : 0,\n        color   : orange[400],\n        opacity : 0\n    },\n    productImageItem        : {\n        transitionProperty      : 'box-shadow',\n        transitionDuration      : theme.transitions.duration.short,\n        transitionTimingFunction: theme.transitions.easing.easeInOut,\n        '&:hover'               : {\n            boxShadow                    : theme.shadows[5],\n            '& $productImageFeaturedStar': {\n                opacity: .8\n            }\n        },\n        '&.featured'            : {\n            pointerEvents                      : 'none',\n            boxShadow                          : theme.shadows[3],\n            '& $productImageFeaturedStar'      : {\n                opacity: 1\n            },\n            '&:hover $productImageFeaturedStar': {\n                opacity: 1\n            }\n        }\n    }\n});\n\nclass Product extends Component {\n\n    state = {\n        tabValue: 0,\n        form    : null\n    };\n\n    componentDidMount()\n    {\n        this.updateProductState();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot)\n    {\n        if ( !_.isEqual(this.props.location, prevProps.location) )\n        {\n            this.updateProductState();\n        }\n\n        if (\n            (this.props.product.data && !this.state.form) ||\n            (this.props.product.data && this.state.form && this.props.product.data.id !== this.state.form.id)\n        )\n        {\n            this.updateFormState();\n        }\n    }\n\n    updateFormState = () => {\n        this.setState({form: this.props.product.data})\n    };\n\n    updateProductState = () => {\n        const params = this.props.match.params;\n        const {productId} = params;\n\n        if ( productId === 'new' )\n        {\n            this.props.newProduct();\n        }\n        else\n        {\n            this.props.getProduct(this.props.match.params);\n        }\n    };\n\n    handleChangeTab = (event, tabValue) => {\n        this.setState({tabValue});\n    };\n\n    handleChange = (event) => {\n        this.setState({form: _.set({...this.state.form}, event.target.name, event.target.type === 'checkbox' ? event.target.checked : event.target.value)});\n    };\n\n    handleChipChange = (value, name) => {\n        this.setState({form: _.set({...this.state.form}, name, value.map(item => item.value))});\n    };\n\n    setFeaturedImage = (id) => {\n        this.setState({form: _.set({...this.state.form}, 'featuredImageId', id)});\n    };\n\n    canBeSubmitted()\n    {\n        const {name} = this.state.form;\n        return (\n            name.length > 0 &&\n            !_.isEqual(this.props.product.data, this.state.form)\n        );\n    }\n\n    render()\n    {\n        const {classes, saveProduct} = this.props;\n        const {tabValue, form} = this.state;\n\n        return (\n            <FusePageCarded\n                classes={{\n                    toolbar: \"p-0\",\n                    header : \"min-h-72 h-72 sm:h-136 sm:min-h-136\"\n                }}\n                header={\n                    form && (\n                        <div className=\"flex flex-1 w-full items-center justify-between\">\n\n                            <div className=\"flex flex-col items-start max-w-full\">\n\n                                <FuseAnimate animation=\"transition.slideRightIn\" delay={300}>\n                                    <Typography className=\"normal-case flex items-center sm:mb-12\" component={Link} role=\"button\" to=\"/apps/e-commerce/products\">\n                                        <Icon className=\"mr-4 text-20\">arrow_back</Icon>\n                                        Products\n                                    </Typography>\n                                </FuseAnimate>\n\n                                <div className=\"flex items-center max-w-full\">\n                                    <FuseAnimate animation=\"transition.expandIn\" delay={300}>\n                                        {form.images.length > 0 ? (\n                                            <img className=\"w-32 sm:w-48 mr-8 sm:mr-16 rounded\" src={_.find(form.images, {id: form.featuredImageId}).url} alt={form.name}/>\n                                        ) : (\n                                            <img className=\"w-32 sm:w-48 mr-8 sm:mr-16 rounded\" src=\"assets/images/ecommerce/product-image-placeholder.png\" alt={form.name}/>\n                                        )}\n                                    </FuseAnimate>\n                                    <div className=\"flex flex-col min-w-0\">\n                                        <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                                            <Typography className=\"text-16 sm:text-20 truncate\">\n                                                {form.name ? form.name : 'New Product'}\n                                            </Typography>\n                                        </FuseAnimate>\n                                        <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                                            <Typography variant=\"caption\">Product Detail</Typography>\n                                        </FuseAnimate>\n                                    </div>\n                                </div>\n                            </div>\n                            <FuseAnimate animation=\"transition.slideRightIn\" delay={300}>\n                                <Button\n                                    className=\"whitespace-no-wrap\"\n                                    variant=\"contained\"\n                                    disabled={!this.canBeSubmitted()}\n                                    onClick={() => saveProduct(form)}\n                                >\n                                    Save\n                                </Button>\n                            </FuseAnimate>\n                        </div>\n                    )\n                }\n                contentToolbar={\n                    <Tabs\n                        value={tabValue}\n                        onChange={this.handleChangeTab}\n                        indicatorColor=\"secondary\"\n                        textColor=\"secondary\"\n                        variant=\"scrollable\"\n                        scrollButtons=\"auto\"\n                        classes={{root: \"w-full h-64\"}}\n                    >\n                        <Tab className=\"h-64 normal-case\" label=\"Basic Info\"/>\n                        <Tab className=\"h-64 normal-case\" label=\"Product Images\"/>\n                        <Tab className=\"h-64 normal-case\" label=\"Pricing\"/>\n                        <Tab className=\"h-64 normal-case\" label=\"Inventory\"/>\n                        <Tab className=\"h-64 normal-case\" label=\"Shipping\"/>\n                    </Tabs>\n                }\n                content={\n                    form && (\n                        <div className=\"p-16 sm:p-24 max-w-2xl\">\n                            {tabValue === 0 &&\n                            (\n                                <div>\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        error={form.name === ''}\n                                        required\n                                        label=\"Name\"\n                                        autoFocus\n                                        id=\"name\"\n                                        name=\"name\"\n                                        value={form.name}\n                                        onChange={this.handleChange}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    />\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        id=\"description\"\n                                        name=\"description\"\n                                        onChange={this.handleChange}\n                                        label=\"Description\"\n                                        type=\"text\"\n                                        value={form.description}\n                                        multiline\n                                        rows={5}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    />\n\n                                    <FuseChipSelect\n                                        className=\"mt-8 mb-24\"\n                                        value={\n                                            form.categories.map(item => ({\n                                                value: item,\n                                                label: item\n                                            }))\n                                        }\n                                        onChange={(value) => this.handleChipChange(value, 'categories')}\n                                        placeholder=\"Select multiple categories\"\n                                        textFieldProps={{\n                                            label          : 'Categories',\n                                            InputLabelProps: {\n                                                shrink: true\n                                            },\n                                            variant        : 'outlined'\n                                        }}\n                                        isMulti\n                                    />\n\n                                    <FuseChipSelect\n                                        className=\"mt-8 mb-16\"\n                                        value={\n                                            form.tags.map(item => ({\n                                                value: item,\n                                                label: item\n                                            }))\n                                        }\n                                        onChange={(value) => this.handleChipChange(value, 'tags')}\n                                        placeholder=\"Select multiple tags\"\n                                        textFieldProps={{\n                                            label          : 'Tags',\n                                            InputLabelProps: {\n                                                shrink: true\n                                            },\n                                            variant        : 'outlined'\n                                        }}\n                                        isMulti\n                                    />\n                                </div>\n                            )}\n                            {tabValue === 1 && (\n                                <div>\n                                    <div className=\"flex justify-center sm:justify-start flex-wrap\">\n                                        {form.images.map(media => (\n                                            <div\n                                                onClick={() => this.setFeaturedImage(media.id)}\n                                                className={\n                                                    classNames(\n                                                        classes.productImageItem,\n                                                        \"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer\",\n                                                        (media.id === form.featuredImageId) && 'featured')\n                                                }\n                                                key={media.id}\n                                            >\n                                                <Icon className={classes.productImageFeaturedStar}>star</Icon>\n                                                <img className=\"max-w-none w-auto h-full\" src={media.url} alt=\"product\"/>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n                            )}\n                            {tabValue === 2 && (\n                                <div>\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Tax Excluded Price\"\n                                        id=\"priceTaxExcl\"\n                                        name=\"priceTaxExcl\"\n                                        value={form.priceTaxExcl}\n                                        onChange={this.handleChange}\n                                        InputProps={{\n                                            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n                                        }}\n                                        type=\"number\"\n                                        variant=\"outlined\"\n                                        autoFocus\n                                        fullWidth\n                                    />\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Tax Included Price\"\n                                        id=\"priceTaxIncl\"\n                                        name=\"priceTaxIncl\"\n                                        value={form.priceTaxIncl}\n                                        onChange={this.handleChange}\n                                        InputProps={{\n                                            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n                                        }}\n                                        type=\"number\"\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    />\n\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Tax Rate\"\n                                        id=\"taxRate\"\n                                        name=\"taxRate\"\n                                        value={form.taxRate}\n                                        onChange={this.handleChange}\n                                        InputProps={{\n                                            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n                                        }}\n                                        type=\"number\"\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    />\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Compared Price\"\n                                        id=\"comparedPrice\"\n                                        name=\"comparedPrice\"\n                                        value={form.comparedPrice}\n                                        onChange={this.handleChange}\n                                        InputProps={{\n                                            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n                                        }}\n                                        type=\"number\"\n                                        variant=\"outlined\"\n                                        fullWidth\n                                        helperText=\"Add a compare price to show next to the real price\"\n                                    />\n\n                                </div>\n                            )}\n                            {tabValue === 3 && (\n                                <div>\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        required\n                                        label=\"SKU\"\n                                        autoFocus\n                                        id=\"sku\"\n                                        name=\"sku\"\n                                        value={form.sku}\n                                        onChange={this.handleChange}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    />\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Quantity\"\n                                        id=\"quantity\"\n                                        name=\"quantity\"\n                                        value={form.quantity}\n                                        onChange={this.handleChange}\n                                        variant=\"outlined\"\n                                        type=\"number\"\n                                        fullWidth\n                                    />\n                                </div>\n                            )}\n                            {tabValue === 4 && (\n                                <div>\n                                    <div className=\"flex\">\n                                        <TextField\n                                            className=\"mt-8 mb-16 mr-8\"\n                                            label=\"Width\"\n                                            autoFocus\n                                            id=\"width\"\n                                            name=\"width\"\n                                            value={form.width}\n                                            onChange={this.handleChange}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        />\n\n                                        <TextField\n                                            className=\"mt-8 mb-16 mr-8\"\n                                            label=\"Height\"\n                                            id=\"height\"\n                                            name=\"height\"\n                                            value={form.height}\n                                            onChange={this.handleChange}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        />\n\n                                        <TextField\n                                            className=\"mt-8 mb-16 mr-8\"\n                                            label=\"Depth\"\n                                            id=\"depth\"\n                                            name=\"depth\"\n                                            value={form.depth}\n                                            onChange={this.handleChange}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        />\n\n                                    </div>\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Weight\"\n                                        id=\"weight\"\n                                        name=\"weight\"\n                                        value={form.weight}\n                                        onChange={this.handleChange}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    />\n\n                                    <TextField\n                                        className=\"mt-8 mb-16\"\n                                        label=\"Extra Shipping Fee\"\n                                        id=\"extraShippingFee\"\n                                        name=\"extraShippingFee\"\n                                        value={form.extraShippingFee}\n                                        onChange={this.handleChange}\n                                        variant=\"outlined\"\n                                        InputProps={{\n                                            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n                                        }}\n                                        fullWidth\n                                    />\n\n                                </div>\n                            )}\n                        </div>\n                    )\n                }\n                innerScroll\n            />\n        )\n    };\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        getProduct : Actions.getProduct,\n        newProduct : Actions.newProduct,\n        saveProduct: Actions.saveProduct\n    }, dispatch);\n}\n\nfunction mapStateToProps({eCommerceApp})\n{\n    return {\n        product: eCommerceApp.product\n    }\n}\n\nexport default withReducer('eCommerceApp', reducer)(withStyles(styles, {withTheme: true})(withRouter(connect(mapStateToProps, mapDispatchToProps)(Product))));\n"]},"metadata":{},"sourceType":"module"}