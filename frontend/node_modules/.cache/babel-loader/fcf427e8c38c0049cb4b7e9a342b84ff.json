{"ast":null,"code":"import _toConsumableArray from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/@fuse/components/FuseShortcuts/FuseShortcuts.js\";\nimport React, { Component } from 'react';\nimport { withStyles, Divider, Icon, IconButton, Input, ListItemIcon, ListItemText, Menu, MenuItem, Tooltip, Typography } from '@material-ui/core';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { FuseUtils, FuseAnimateGroup } from '@fuse';\nimport { Link } from 'react-router-dom';\nimport amber from '@material-ui/core/colors/amber';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nvar propTypes = {};\nvar defaultProps = {\n  variant: \"horizontal\"\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      '&.horizontal': {},\n      '&.vertical': {\n        flexDirection: 'column'\n      }\n    },\n    item: {\n      textDecoration: 'none!important'\n    },\n    addIcon: {\n      color: amber[600]\n    }\n  };\n};\n\nvar FuseShortcuts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FuseShortcuts, _Component);\n\n  function FuseShortcuts() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FuseShortcuts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FuseShortcuts)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      addMenu: null,\n      searchText: '',\n      searchResults: null,\n      flatNavigation: null\n    };\n\n    _this.addMenuClick = function (event) {\n      _this.setState({\n        addMenu: event.currentTarget\n      });\n    };\n\n    _this.addMenuClose = function () {\n      _this.setState({\n        addMenu: null\n      });\n    };\n\n    _this.search = function (ev) {\n      var searchText = ev.target.value;\n\n      _this.setState({\n        searchText: searchText\n      });\n\n      if (searchText.length !== 0 && _this.state.flatNavigation) {\n        _this.setState({\n          searchResults: _this.state.flatNavigation.filter(function (item) {\n            return item.title.toLowerCase().includes(searchText);\n          })\n        });\n\n        return;\n      }\n\n      _this.setState({\n        searchResults: null\n      });\n    };\n\n    _this.toggleInShortcuts = function (id) {\n      var shortcuts = _toConsumableArray(_this.props.shortcuts);\n\n      shortcuts = shortcuts.includes(id) ? shortcuts.filter(function (_id) {\n        return id !== _id;\n      }) : [].concat(_toConsumableArray(shortcuts), [id]);\n\n      _this.props.updateUserShortcuts(shortcuts);\n    };\n\n    return _this;\n  }\n\n  _createClass(FuseShortcuts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.flattenNavigation(this.props.navigation);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.location, prevProps.location)) {\n        this.flattenNavigation(this.props.navigation);\n      }\n    }\n  }, {\n    key: \"flattenNavigation\",\n    value: function flattenNavigation(navigation) {\n      this.setState({\n        flatNavigation: FuseUtils.getFlatNavigation(navigation)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          shortcuts = _this$props.shortcuts,\n          navigation = _this$props.navigation,\n          variant = _this$props.variant,\n          className = _this$props.className;\n      var _this$state = this.state,\n          addMenu = _this$state.addMenu,\n          searchText = _this$state.searchText,\n          searchResults = _this$state.searchResults;\n      var shortcutItems = shortcuts ? shortcuts.map(function (id) {\n        return FuseUtils.findById(navigation, id);\n      }) : [];\n\n      function ShortcutMenuItem(_ref) {\n        var item = _ref.item,\n            onToggle = _ref.onToggle;\n        return React.createElement(Link, {\n          to: item.url,\n          className: classes.item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(MenuItem, {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(ListItemIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, item.icon ? React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, item.icon) : React.createElement(\"span\", {\n          className: \"text-20 font-bold uppercase text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, item.title[0])), React.createElement(ListItemText, {\n          className: \"pl-0\",\n          primary: item.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }), React.createElement(IconButton, {\n          onClick: function onClick(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            onToggle(item.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          color: \"action\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, shortcuts.includes(item.id) ? 'star' : 'star_border'))));\n      }\n\n      return React.createElement(\"div\", {\n        className: classNames(classes.root, variant, \"flex flex-1\", variant === \"vertical\" && \"flex-no-grow flex-shrink\", className),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(FuseAnimateGroup, {\n        enter: {\n          animation: \"transition.expandIn\"\n        },\n        className: classNames(\"flex flex-1\", variant === \"vertical\" && \"flex-col\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, shortcutItems.map(function (item) {\n        return item && React.createElement(Link, {\n          to: item.url,\n          key: item.id,\n          className: classes.item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          title: item.title,\n          placement: variant === \"horizontal\" ? \"bottom\" : \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          className: \"w-40 h-40 p-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, item.icon ? React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, item.icon) : React.createElement(\"span\", {\n          className: \"text-20 font-bold uppercase\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, item.title[0]))));\n      }), React.createElement(Tooltip, {\n        title: \"Click to add/remove shortcut\",\n        placement: variant === \"horizontal\" ? \"bottom\" : \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: \"w-40 h-40 p-0\",\n        \"aria-owns\": addMenu ? 'add-menu' : null,\n        \"aria-haspopup\": \"true\",\n        onClick: this.addMenuClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: classes.addIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"star\")))), React.createElement(Menu, {\n        id: \"add-menu\",\n        anchorEl: addMenu,\n        open: Boolean(addMenu),\n        onClose: this.addMenuClose,\n        classes: {\n          paper: 'mt-48'\n        },\n        onEntered: function onEntered() {\n          _this2.searchInput.focus();\n        },\n        onExited: function onExited() {\n          _this2.setState({\n            searchText: ''\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-16 pt-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Input, {\n        inputRef: function inputRef(ref) {\n          return _this2.searchInput = ref;\n        },\n        value: searchText,\n        onChange: this.search,\n        placeholder: \"Search for an app or page\",\n        className: \"\",\n        fullWidth: true,\n        inputProps: {\n          'aria-label': 'Search'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), searchText.length !== 0 && searchResults && searchResults.map(function (item) {\n        return React.createElement(ShortcutMenuItem, {\n          key: item.id,\n          item: item,\n          onToggle: function onToggle() {\n            return _this2.toggleInShortcuts(item.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        });\n      }), searchText.length !== 0 && searchResults.length === 0 && React.createElement(Typography, {\n        color: \"textSecondary\",\n        className: \"p-16 pb-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"No results..\"), searchText.length === 0 && shortcutItems.map(function (item) {\n        return item && React.createElement(ShortcutMenuItem, {\n          key: item.id,\n          item: item,\n          onToggle: function onToggle() {\n            return _this2.toggleInShortcuts(item.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return FuseShortcuts;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nfunction mapStateToProps(_ref2) {\n  var fuse = _ref2.fuse,\n      auth = _ref2.auth;\n  return {\n    navigation: fuse.navigation\n  };\n}\n\nFuseShortcuts.propTypes = propTypes;\nFuseShortcuts.defaultProps = defaultProps;\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(FuseShortcuts));","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/@fuse/components/FuseShortcuts/FuseShortcuts.js"],"names":["React","Component","withStyles","Divider","Icon","IconButton","Input","ListItemIcon","ListItemText","Menu","MenuItem","Tooltip","Typography","bindActionCreators","connect","FuseUtils","FuseAnimateGroup","Link","amber","classNames","_","propTypes","defaultProps","variant","styles","theme","root","flexDirection","item","textDecoration","addIcon","color","FuseShortcuts","state","addMenu","searchText","searchResults","flatNavigation","addMenuClick","event","setState","currentTarget","addMenuClose","search","ev","target","value","length","filter","title","toLowerCase","includes","toggleInShortcuts","id","shortcuts","props","_id","updateUserShortcuts","flattenNavigation","navigation","prevProps","prevState","isEqual","location","getFlatNavigation","classes","className","shortcutItems","map","findById","ShortcutMenuItem","onToggle","url","icon","preventDefault","stopPropagation","animation","Boolean","paper","searchInput","focus","ref","mapDispatchToProps","dispatch","mapStateToProps","fuse","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withStyles, Divider, Icon, IconButton, Input, ListItemIcon, ListItemText, Menu, MenuItem, Tooltip, Typography } from '@material-ui/core';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { FuseUtils, FuseAnimateGroup } from '@fuse';\nimport { Link } from 'react-router-dom';\nimport amber from '@material-ui/core/colors/amber';\nimport classNames from 'classnames';\nimport _ from '@lodash';\n\nconst propTypes = {};\n\nconst defaultProps = {\n    variant: \"horizontal\"\n};\n\nconst styles = theme => ({\n    root: {\n        '&.horizontal': {},\n        '&.vertical': {\n            flexDirection: 'column'\n        }\n    },\n    item: {\n        textDecoration: 'none!important'\n    },\n    addIcon: {\n        color: amber[600]\n    }\n});\n\nclass FuseShortcuts extends Component {\n\n    state = {\n        addMenu: null,\n        searchText: '',\n        searchResults: null,\n        flatNavigation: null\n    };\n\n    componentDidMount() {\n        this.flattenNavigation(this.props.navigation);\n    }\n\n    addMenuClick = event => {\n        this.setState({ addMenu: event.currentTarget });\n    };\n\n    addMenuClose = () => {\n        this.setState({ addMenu: null });\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (!_.isEqual(this.props.location, prevProps.location)) {\n            this.flattenNavigation(this.props.navigation);\n        }\n    }\n\n    flattenNavigation(navigation) {\n        this.setState({ flatNavigation: FuseUtils.getFlatNavigation(navigation) })\n    }\n\n    search = (ev) => {\n        const searchText = ev.target.value;\n        this.setState({ searchText });\n        if (searchText.length !== 0 && this.state.flatNavigation) {\n            this.setState({\n                searchResults: this.state.flatNavigation.filter(item => item.title.toLowerCase().includes(searchText))\n            });\n            return;\n        }\n        this.setState({ searchResults: null });\n    };\n\n    toggleInShortcuts = (id) => {\n        let shortcuts = [...this.props.shortcuts];\n        shortcuts = shortcuts.includes(id) ? shortcuts.filter(_id => id !== _id) : [...shortcuts, id];\n        this.props.updateUserShortcuts(shortcuts);\n    };\n\n    render() {\n        const { classes, shortcuts, navigation, variant, className } = this.props;\n        const { addMenu, searchText, searchResults } = this.state;\n        const shortcutItems = shortcuts ? shortcuts.map(id => FuseUtils.findById(navigation, id)) : [];\n\n        function ShortcutMenuItem({ item, onToggle }) {\n            return (\n                <Link to={item.url} className={classes.item}>\n                    <MenuItem key={item.id}>\n                        <ListItemIcon>\n                            {item.icon ?\n                                (\n                                    <Icon>{item.icon}</Icon>\n                                ) :\n                                (\n                                    <span className=\"text-20 font-bold uppercase text-center\">{item.title[0]}</span>\n                                )\n                            }\n                        </ListItemIcon>\n                        <ListItemText className=\"pl-0\" primary={item.title} />\n                        <IconButton\n                            onClick={(ev) => {\n                                ev.preventDefault();\n                                ev.stopPropagation();\n                                onToggle(item.id);\n                            }}\n                        >\n                            <Icon color=\"action\">{shortcuts.includes(item.id) ? 'star' : 'star_border'}</Icon>\n                        </IconButton>\n                    </MenuItem>\n                </Link>\n            );\n        }\n\n        return (\n            <div className={classNames(classes.root, variant, \"flex flex-1\", variant === \"vertical\" && \"flex-no-grow flex-shrink\", className)}>\n\n                <FuseAnimateGroup\n                    enter={{\n                        animation: \"transition.expandIn\"\n                    }}\n                    className={classNames(\"flex flex-1\", variant === \"vertical\" && \"flex-col\")}\n                >\n                    {shortcutItems.map(item => item && (\n                        <Link to={item.url} key={item.id} className={classes.item}>\n                            <Tooltip title={item.title} placement={variant === \"horizontal\" ? \"bottom\" : \"left\"}>\n                                <IconButton className=\"w-40 h-40 p-0\">\n                                    {item.icon ?\n                                        (\n                                            <Icon>{item.icon}</Icon>\n                                        ) :\n                                        (\n                                            <span className=\"text-20 font-bold uppercase\">{item.title[0]}</span>\n                                        )\n                                    }\n                                </IconButton>\n                            </Tooltip>\n                        </Link>\n                    ))}\n\n                    <Tooltip title=\"Click to add/remove shortcut\" placement={variant === \"horizontal\" ? \"bottom\" : \"left\"}>\n                        <IconButton\n                            className=\"w-40 h-40 p-0\"\n                            aria-owns={addMenu ? 'add-menu' : null}\n                            aria-haspopup=\"true\"\n                            onClick={this.addMenuClick}\n                        >\n                            <Icon className={classes.addIcon}>star</Icon>\n                        </IconButton>\n                    </Tooltip>\n                </FuseAnimateGroup>\n\n                <Menu\n                    id=\"add-menu\"\n                    anchorEl={addMenu}\n                    open={Boolean(addMenu)}\n                    onClose={this.addMenuClose}\n                    classes={{\n                        paper: 'mt-48'\n                    }}\n                    onEntered={() => {\n                        this.searchInput.focus();\n                    }}\n                    onExited={() => {\n                        this.setState({ searchText: '' });\n                    }}>\n                    <div className=\"p-16 pt-8\">\n                        <Input\n                            inputRef={ref => this.searchInput = ref}\n                            value={searchText}\n                            onChange={this.search}\n                            placeholder=\"Search for an app or page\"\n                            className=\"\"\n                            fullWidth\n                            inputProps={{\n                                'aria-label': 'Search'\n                            }}\n                        />\n                    </div>\n\n                    <Divider />\n\n                    {searchText.length !== 0 && searchResults && searchResults.map(item => (\n                        <ShortcutMenuItem\n                            key={item.id}\n                            item={item}\n                            onToggle={() => this.toggleInShortcuts(item.id)}\n                        />\n                    ))}\n\n                    {searchText.length !== 0 && searchResults.length === 0 && (\n                        <Typography color=\"textSecondary\" className=\"p-16 pb-8\">No results..</Typography>\n                    )}\n\n                    {searchText.length === 0 && shortcutItems.map(item => item && (\n                        <ShortcutMenuItem\n                            key={item.id}\n                            item={item}\n                            onToggle={() => this.toggleInShortcuts(item.id)}\n                        />\n                    ))}\n                </Menu>\n            </div>\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n    }, dispatch);\n}\n\nfunction mapStateToProps({ fuse, auth }) {\n    return {\n        navigation: fuse.navigation,\n    }\n}\n\nFuseShortcuts.propTypes = propTypes;\nFuseShortcuts.defaultProps = defaultProps;\n\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(FuseShortcuts));\n"]},"metadata":{},"sourceType":"module"}