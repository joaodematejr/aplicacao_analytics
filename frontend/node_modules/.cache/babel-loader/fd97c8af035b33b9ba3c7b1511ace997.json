{"ast":null,"code":"import _toConsumableArray from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as Actions from '../actions';\nimport _ from '@lodash';\nvar initialState = null;\n\nvar cardReducer = function cardReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case Actions.OPEN_CARD_DIALOG:\n      {\n        return _objectSpread({}, action.payload);\n      }\n\n    case Actions.REMOVE_CARD:\n      {\n        return null;\n      }\n\n    case Actions.CLOSE_CARD_DIALOG:\n      {\n        return null;\n      }\n\n    case Actions.CHANGE_CARD:\n      {\n        return _.setIn(state, action.target.name, action.target.type === 'checkbox' ? action.target.checked : action.target.value);\n      }\n\n    case Actions.CHIP_CHANGE_CARD:\n      {\n        return _.setIn(state, action.name, action.value.map(function (item) {\n          return item.value;\n        }));\n      }\n\n    case Actions.NEW_CHIP_CARD:\n      {\n        return _.setIn(state, action.name, [].concat(_toConsumableArray(state[action.name]), [action.value]));\n      }\n\n    case Actions.MAKE_COVER_CARD:\n      {\n        return _.setIn(state, 'idAttachmentCover', action.attachmentId);\n      }\n\n    case Actions.REMOVE_COVER_CARD:\n      {\n        return _.setIn(state, 'idAttachmentCover', '');\n      }\n\n    case Actions.REMOVE_ATTACHMENT_CARD:\n      {\n        return _objectSpread({}, state, {\n          attachments: _.reject(state.attachments, {\n            id: action.attachmentId\n          }),\n          idAttachmentCover: state.idAttachmentCover === action.attachmentId ? '' : state.idAttachmentCover\n        });\n      }\n\n    case Actions.REMOVE_DUE_CARD:\n      {\n        return _.setIn(state, 'due', null);\n      }\n\n    case Actions.TOGGLE_LABEL_CARD:\n      {\n        return _.setIn(state, 'idLabels', _.xor(state.idLabels, [action.labelId]));\n      }\n\n    case Actions.TOGGLE_MEMBER_CARD:\n      {\n        return _.setIn(state, 'idMembers', _.xor(state.idMembers, [action.memberId]));\n      }\n\n    case Actions.ADD_CHECKLIST_CARD:\n      {\n        return _.setIn(state, 'checklists', [].concat(_toConsumableArray(state.checklists), [action.newList]));\n      }\n\n    case Actions.CHECKLIST_CHANGE_CARD:\n      {\n        var index = state.checklists.findIndex(function (x) {\n          return x.id === action.item.id;\n        });\n        return _.setIn(state, \"checklists[\".concat(index, \"]\"), action.item);\n      }\n\n    case Actions.CHECKLIST_REMOVE_CARD:\n      {\n        return _.setIn(state, 'checklists', _.reject(state.checklists, {\n          id: action.id\n        }));\n      }\n\n    case Actions.COMMENT_ADD_CARD:\n      {\n        return _.setIn(state, 'activities', [action.comment].concat(_toConsumableArray(state.activities)));\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cardReducer;","map":{"version":3,"sources":["/Volumes/Documentos/facu/projetos/aplicacao_analytics/test/src/app/main/apps/scrumboard/store/reducers/card.reducer.js"],"names":["Actions","_","initialState","cardReducer","state","action","type","OPEN_CARD_DIALOG","payload","REMOVE_CARD","CLOSE_CARD_DIALOG","CHANGE_CARD","setIn","target","name","checked","value","CHIP_CHANGE_CARD","map","item","NEW_CHIP_CARD","MAKE_COVER_CARD","attachmentId","REMOVE_COVER_CARD","REMOVE_ATTACHMENT_CARD","attachments","reject","id","idAttachmentCover","REMOVE_DUE_CARD","TOGGLE_LABEL_CARD","xor","idLabels","labelId","TOGGLE_MEMBER_CARD","idMembers","memberId","ADD_CHECKLIST_CARD","checklists","newList","CHECKLIST_CHANGE_CARD","index","findIndex","x","CHECKLIST_REMOVE_CARD","COMMENT_ADD_CARD","comment","activities"],"mappings":"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","sourcesContent":["import * as Actions from '../actions';\nimport _ from '@lodash';\n\nconst initialState = null;\n\nconst cardReducer = function (state = initialState, action) {\n    switch ( action.type )\n    {\n        case Actions.OPEN_CARD_DIALOG:\n        {\n            return {\n                ...action.payload\n            };\n        }\n        case Actions.REMOVE_CARD:\n        {\n            return null;\n        }\n        case Actions.CLOSE_CARD_DIALOG:\n        {\n            return null;\n        }\n        case Actions.CHANGE_CARD:\n        {\n            return _.setIn(state, action.target.name, action.target.type === 'checkbox' ? action.target.checked : action.target.value);\n        }\n        case Actions.CHIP_CHANGE_CARD:\n        {\n            return _.setIn(state, action.name, action.value.map(item => item.value));\n        }\n        case Actions.NEW_CHIP_CARD:\n        {\n            return _.setIn(state, action.name, [...state[action.name], action.value]);\n        }\n        case Actions.MAKE_COVER_CARD:\n        {\n            return _.setIn(state, 'idAttachmentCover', action.attachmentId);\n        }\n        case Actions.REMOVE_COVER_CARD:\n        {\n            return _.setIn(state, 'idAttachmentCover', '');\n        }\n        case Actions.REMOVE_ATTACHMENT_CARD:\n        {\n            return {\n                ...state,\n                attachments      : _.reject(state.attachments, {id: action.attachmentId}),\n                idAttachmentCover: state.idAttachmentCover === action.attachmentId ? '' : state.idAttachmentCover\n            }\n        }\n        case Actions.REMOVE_DUE_CARD:\n        {\n            return _.setIn(state, 'due', null);\n        }\n        case Actions.TOGGLE_LABEL_CARD:\n        {\n            return _.setIn(state, 'idLabels', _.xor(state.idLabels, [action.labelId]));\n        }\n        case Actions.TOGGLE_MEMBER_CARD:\n        {\n            return _.setIn(state, 'idMembers', _.xor(state.idMembers, [action.memberId]));\n        }\n        case Actions.ADD_CHECKLIST_CARD:\n        {\n            return _.setIn(state, 'checklists', [...state.checklists, action.newList]);\n        }\n        case Actions.CHECKLIST_CHANGE_CARD:\n        {\n            const index = state.checklists.findIndex((x) => x.id === action.item.id);\n            return _.setIn(state, `checklists[${index}]`, action.item);\n        }\n        case Actions.CHECKLIST_REMOVE_CARD:\n        {\n            return _.setIn(state, 'checklists', _.reject(state.checklists, {id: action.id}));\n        }\n        case Actions.COMMENT_ADD_CARD:\n        {\n            return _.setIn(state, 'activities', [action.comment, ...state.activities]);\n        }\n        default:\n            return state;\n    }\n};\n\nexport default cardReducer;\n"]},"metadata":{},"sourceType":"module"}